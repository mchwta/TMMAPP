{"ast":null,"code":"import { __extends } from \"tslib\";\nimport { WebPlugin } from './index';\nimport { extend } from '../util';\nvar GeolocationPluginWeb = /** @class */function (_super) {\n  __extends(GeolocationPluginWeb, _super);\n  function GeolocationPluginWeb() {\n    return _super.call(this, {\n      name: 'Geolocation',\n      platforms: ['web']\n    }) || this;\n  }\n  GeolocationPluginWeb.prototype.getCurrentPosition = function (options) {\n    var _this = this;\n    return new Promise(function (resolve, reject) {\n      return _this.requestPermissions().then(function (_result) {\n        window.navigator.geolocation.getCurrentPosition(function (pos) {\n          resolve(pos);\n        }, function (err) {\n          reject(err);\n        }, extend({\n          enableHighAccuracy: true,\n          timeout: 10000,\n          maximumAge: 0\n        }, options));\n      });\n    });\n  };\n  GeolocationPluginWeb.prototype.watchPosition = function (options, callback) {\n    var id = window.navigator.geolocation.watchPosition(function (pos) {\n      callback(pos);\n    }, function (err) {\n      callback(null, err);\n    }, extend({\n      enableHighAccuracy: true,\n      timeout: 10000,\n      maximumAge: 0\n    }, options));\n    return \"\" + id;\n  };\n  GeolocationPluginWeb.prototype.clearWatch = function (options) {\n    window.navigator.geolocation.clearWatch(parseInt(options.id, 10));\n    return Promise.resolve();\n  };\n  return GeolocationPluginWeb;\n}(WebPlugin);\nexport { GeolocationPluginWeb };\nvar Geolocation = new GeolocationPluginWeb();\nexport { Geolocation };","map":{"version":3,"names":["WebPlugin","extend","GeolocationPluginWeb","_super","__extends","call","name","platforms","prototype","getCurrentPosition","options","_this","Promise","resolve","reject","requestPermissions","then","_result","window","navigator","geolocation","pos","err","enableHighAccuracy","timeout","maximumAge","watchPosition","callback","id","clearWatch","parseInt","Geolocation"],"sources":["../../../src/web/geolocation.ts"],"sourcesContent":[null],"mappings":";AAAA,SAASA,SAAS,QAAQ,SAAS;AAWnC,SAASC,MAAM,QAAQ,SAAS;AAEhC,IAAAC,oBAAA,0BAAAC,MAAA;EAA0CC,SAAA,CAAAF,oBAAA,EAAAC,MAAA;EACxC,SAAAD,qBAAA;WACEC,MAAA,CAAAE,IAAA,OAAM;MACJC,IAAI,EAAE,aAAa;MACnBC,SAAS,EAAE,CAAC,KAAK;KAClB,CAAC;EACJ;EAEAL,oBAAA,CAAAM,SAAA,CAAAC,kBAAkB,GAAlB,UAAmBC,OAA4B;IAA/C,IAAAC,KAAA;IACE,OAAO,IAAIC,OAAO,CAAC,UAACC,OAAO,EAAEC,MAAM;MACjC,OAAOH,KAAI,CAACI,kBAAkB,EAAE,CAACC,IAAI,CAAC,UAACC,OAAiC;QACtEC,MAAM,CAACC,SAAS,CAACC,WAAW,CAACX,kBAAkB,CAAC,UAACY,GAAG;UAClDR,OAAO,CAACQ,GAAG,CAAC;QACd,CAAC,EAAE,UAACC,GAAG;UACLR,MAAM,CAACQ,GAAG,CAAC;QACb,CAAC,EAAErB,MAAM,CAAC;UACRsB,kBAAkB,EAAE,IAAI;UACxBC,OAAO,EAAE,KAAK;UACdC,UAAU,EAAE;SACb,EAAEf,OAAO,CAAC,CAAC;MACd,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ,CAAC;EAEDR,oBAAA,CAAAM,SAAA,CAAAkB,aAAa,GAAb,UAAchB,OAA2B,EAAEiB,QAAkC;IAC3E,IAAIC,EAAE,GAAGV,MAAM,CAACC,SAAS,CAACC,WAAW,CAACM,aAAa,CAAC,UAACL,GAAG;MACtDM,QAAQ,CAACN,GAAG,CAAC;IACf,CAAC,EAAE,UAACC,GAAG;MACLK,QAAQ,CAAC,IAAI,EAAEL,GAAG,CAAC;IACrB,CAAC,EAAErB,MAAM,CAAC;MACRsB,kBAAkB,EAAE,IAAI;MACxBC,OAAO,EAAE,KAAK;MACdC,UAAU,EAAE;KACb,EAAEf,OAAO,CAAC,CAAC;IAEZ,OAAO,KAAGkB,EAAI;EAChB,CAAC;EAED1B,oBAAA,CAAAM,SAAA,CAAAqB,UAAU,GAAV,UAAWnB,OAAuB;IAChCQ,MAAM,CAACC,SAAS,CAACC,WAAW,CAACS,UAAU,CAACC,QAAQ,CAACpB,OAAO,CAACkB,EAAE,EAAE,EAAE,CAAC,CAAC;IACjE,OAAOhB,OAAO,CAACC,OAAO,EAAE;EAC1B,CAAC;EACH,OAAAX,oBAAC;AAAD,CAAC,CA1CyCF,SAAS;;AA4CnD,IAAM+B,WAAW,GAAG,IAAI7B,oBAAoB,EAAE;AAE9C,SAAS6B,WAAW"},"metadata":{},"sourceType":"module"}