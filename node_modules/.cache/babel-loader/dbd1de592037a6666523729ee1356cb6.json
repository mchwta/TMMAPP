{"ast":null,"code":"import { __awaiter, __extends, __generator } from \"tslib\";\nimport { WebPlugin } from './index';\nimport { PermissionType } from '../core-plugin-definitions';\nvar PermissionsPluginWeb = /** @class */function (_super) {\n  __extends(PermissionsPluginWeb, _super);\n  function PermissionsPluginWeb() {\n    return _super.call(this, {\n      name: 'Permissions'\n    }) || this;\n  }\n  PermissionsPluginWeb.prototype.query = function (options) {\n    return __awaiter(this, void 0, void 0, function () {\n      var navigator, name, ret;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            navigator = window.navigator;\n            if (!navigator.permissions) {\n              return [2 /*return*/, Promise.reject('This browser does not support the Permissions API')];\n            }\n            name = options.name === PermissionType.Photos ? 'camera' : options.name;\n            return [4 /*yield*/, navigator.permissions.query({\n              name: name\n            })];\n          case 1:\n            ret = _a.sent();\n            return [2 /*return*/, {\n              state: ret.state\n            }];\n        }\n      });\n    });\n  };\n  return PermissionsPluginWeb;\n}(WebPlugin);\nexport { PermissionsPluginWeb };\nvar Permissions = new PermissionsPluginWeb();\nexport { Permissions };","map":{"version":3,"names":["WebPlugin","PermissionType","PermissionsPluginWeb","_super","__extends","call","name","prototype","query","options","navigator","window","permissions","Promise","reject","Photos","ret","_a","sent","state","Permissions"],"sources":["../../../src/web/permissions.ts"],"sourcesContent":[null],"mappings":";AAAA,SAASA,SAAS,QAAQ,SAAS;AAEnC,SAC2DC,cAAc,QAClE,4BAA4B;AAEnC,IAAAC,oBAAA,0BAAAC,MAAA;EAA0CC,SAAA,CAAAF,oBAAA,EAAAC,MAAA;EACxC,SAAAD,qBAAA;WACEC,MAAA,CAAAE,IAAA,OAAM;MACJC,IAAI,EAAE;KACP,CAAC;EACJ;EAEMJ,oBAAA,CAAAK,SAAA,CAAAC,KAAK,GAAX,UAAYC,OAA2B;;;;;;YAC/BC,SAAS,GAAGC,MAAM,CAACD,SAAgB;YAEzC,IAAI,CAACA,SAAS,CAACE,WAAW,EAAE;cAC1B,sBAAOC,OAAO,CAACC,MAAM,CAAC,mDAAmD,CAAC;;YAKtER,IAAI,GAAGG,OAAO,CAACH,IAAI,KAAKL,cAAc,CAACc,MAAM,GAAG,QAAQ,GAAGN,OAAO,CAACH,IAAI;YAEjE,qBAAMI,SAAS,CAACE,WAAW,CAACJ,KAAK,CAAC;cAAEF,IAAI,EAAAA;YAAA,CAAE,CAAC;;YAAjDU,GAAG,GAAGC,EAAA,CAAAC,IAAA,EAA2C;YAEvD,sBAAO;cACLC,KAAK,EAAEH,GAAG,CAACG;aACZ;QAAC;;;GACH;EACH,OAAAjB,oBAAC;AAAD,CAAC,CAxByCF,SAAS;;AA0BnD,IAAMoB,WAAW,GAAG,IAAIlB,oBAAoB,EAAE;AAE9C,SAASkB,WAAW"},"metadata":{},"sourceType":"module"}