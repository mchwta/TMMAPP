{"ast":null,"code":"var _jsxFileName = \"/Users/toy/Documents/APIU University Work/3rd Year/Mobile Dev/code/ionicproject1/DailyMoments/src/pages/EntryPage.tsx\",\n    _s = $RefreshSig$();\n\nimport { IonContent, IonHeader, IonPage, IonTitle, IonToolbar, IonButtons, IonBackButton, IonIcon, IonButton } from \"@ionic/react\";\nimport { trash } from \"ionicons/icons\";\nimport React, { useEffect, useState } from \"react\";\nimport { useHistory, useRouteMatch } from \"react-router\";\nimport { useAuth } from \"../auth\";\nimport { firestore } from \"../firebase\";\nimport { toEntry } from \"../models\";\nimport { formatDate } from '../date';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst EntryPage = () => {\n  _s();\n\n  const history = useHistory();\n\n  const handleDelete = () => {\n    firestore.collection(\"users\").doc(userId).collection('entries').doc(entry.id).delete().then(() => {\n      console.log(\"Deleted!\");\n    });\n    history.goBack();\n  };\n\n  const {\n    userId\n  } = useAuth();\n  const match = useRouteMatch();\n  const {\n    id\n  } = match.params;\n  const [entry, setEntry] = useState();\n  useEffect(() => {\n    const entryRef = firestore.collection(\"users\").doc(userId).collection(\"entries\").doc(id);\n    entryRef.get().then(doc => {\n      setEntry(toEntry(doc));\n    });\n  }, [userId, id]);\n  console.log(\"Entry.id:\", entry === null || entry === void 0 ? void 0 : entry.id);\n  return /*#__PURE__*/_jsxDEV(IonPage, {\n    children: [/*#__PURE__*/_jsxDEV(IonHeader, {\n      children: /*#__PURE__*/_jsxDEV(IonToolbar, {\n        children: [/*#__PURE__*/_jsxDEV(IonButtons, {\n          slot: \"start\",\n          children: /*#__PURE__*/_jsxDEV(IonBackButton, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(IonTitle, {\n          children: formatDate(entry === null || entry === void 0 ? void 0 : entry.date)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(IonButton, {\n          slot: \"end\",\n          onClick: handleDelete,\n          routerLink: \"/my/entries\",\n          fill: \"clear\",\n          children: /*#__PURE__*/_jsxDEV(IonIcon, {\n            icon: trash\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(IonContent, {\n      className: \"ion-padding\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: entry === null || entry === void 0 ? void 0 : entry.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: entry === null || entry === void 0 ? void 0 : entry.pictureUrl,\n        alt: \"Post Picture\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: entry === null || entry === void 0 ? void 0 : entry.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n};\n\n_s(EntryPage, \"q8OIz5/z816isvFE6uS6fGQMSsw=\", false, function () {\n  return [useHistory, useAuth, useRouteMatch];\n});\n\n_c = EntryPage;\nexport default EntryPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"EntryPage\");","map":{"version":3,"sources":["/Users/toy/Documents/APIU University Work/3rd Year/Mobile Dev/code/ionicproject1/DailyMoments/src/pages/EntryPage.tsx"],"names":["IonContent","IonHeader","IonPage","IonTitle","IonToolbar","IonButtons","IonBackButton","IonIcon","IonButton","trash","React","useEffect","useState","useHistory","useRouteMatch","useAuth","firestore","toEntry","formatDate","EntryPage","history","handleDelete","collection","doc","userId","entry","id","delete","then","console","log","goBack","match","params","setEntry","entryRef","get","date","title","pictureUrl","description"],"mappings":"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","sourcesContent":["import {\n  IonContent,\n  IonHeader,\n  IonPage,\n  IonTitle,\n  IonToolbar,\n  IonButtons,\n  IonBackButton,\n  IonIcon,\n  IonButton,\n} from \"@ionic/react\";\nimport { trash } from \"ionicons/icons\";\nimport React, { useEffect, useState } from \"react\";\nimport { useHistory, useRouteMatch } from \"react-router\";\nimport { useAuth } from \"../auth\";\nimport { firestore } from \"../firebase\";\nimport { Entry, toEntry } from \"../models\";\nimport {formatDate} from '../date';\n\ninterface RouterParams {\n  id: string;\n}\n\nconst EntryPage: React.FC = () => {\n\n  const history = useHistory();\n  const handleDelete = () => {\n    firestore.collection(\"users\").doc(userId).collection('entries').doc(entry.id)\n      .delete()\n      .then(() => { console.log(\"Deleted!\") });\n    history.goBack();\n  };\n\n  const { userId } = useAuth();\n  const match = useRouteMatch<RouterParams>();\n  const { id } = match.params;\n  const [entry, setEntry] = useState<Entry>();\n\n  useEffect(() => {\n    const entryRef = firestore\n      .collection(\"users\")\n      .doc(userId)\n      .collection(\"entries\")\n      .doc(id);\n    entryRef.get().then((doc) => {\n      setEntry(toEntry(doc));\n    });\n  }, [userId, id]);\n\n  console.log(\"Entry.id:\", entry?.id);\n\n  return (\n    <IonPage>\n      <IonHeader>\n        <IonToolbar>\n          <IonButtons slot=\"start\">\n            <IonBackButton />\n          </IonButtons>\n          <IonTitle>\n            {formatDate(entry?.date)}\n          </IonTitle>\n          <IonButton slot=\"end\" onClick={handleDelete} routerLink=\"/my/entries\" fill=\"clear\">\n            <IonIcon icon={trash} />\n          </IonButton>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent className=\"ion-padding\">\n        <h1>{entry?.title}</h1>\n        <img src={entry?.pictureUrl} alt=\"Post Picture\" />\n        <p>{entry?.description}</p>\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default EntryPage;\n"]},"metadata":{},"sourceType":"module"}