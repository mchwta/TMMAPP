{"ast":null,"code":"import { __extends } from \"tslib\";\nimport { WebPlugin } from './index';\nvar StoragePluginWeb = /** @class */function (_super) {\n  __extends(StoragePluginWeb, _super);\n  function StoragePluginWeb() {\n    var _this = _super.call(this, {\n      name: 'Storage',\n      platforms: ['web']\n    }) || this;\n    _this.KEY_PREFIX = '_cap_';\n    return _this;\n  }\n  StoragePluginWeb.prototype.get = function (options) {\n    var _this = this;\n    return new Promise(function (resolve, _reject) {\n      resolve({\n        value: window.localStorage.getItem(_this.makeKey(options.key))\n      });\n    });\n  };\n  StoragePluginWeb.prototype.set = function (options) {\n    var _this = this;\n    return new Promise(function (resolve, _reject) {\n      window.localStorage.setItem(_this.makeKey(options.key), options.value);\n      resolve();\n    });\n  };\n  StoragePluginWeb.prototype.remove = function (options) {\n    var _this = this;\n    return new Promise(function (resolve, _reject) {\n      window.localStorage.removeItem(_this.makeKey(options.key));\n      resolve();\n    });\n  };\n  StoragePluginWeb.prototype.keys = function () {\n    var _this = this;\n    return new Promise(function (resolve, _reject) {\n      resolve({\n        keys: Object.keys(localStorage).filter(function (k) {\n          return _this.isKey(k);\n        }).map(function (k) {\n          return _this.getKey(k);\n        })\n      });\n    });\n  };\n  StoragePluginWeb.prototype.clear = function () {\n    var _this = this;\n    return new Promise(function (resolve, _reject) {\n      Object.keys(localStorage).filter(function (k) {\n        return _this.isKey(k);\n      }).forEach(function (k) {\n        return window.localStorage.removeItem(k);\n      });\n      resolve();\n    });\n  };\n  StoragePluginWeb.prototype.makeKey = function (key) {\n    return this.KEY_PREFIX + key;\n  };\n  StoragePluginWeb.prototype.isKey = function (key) {\n    return key.indexOf(this.KEY_PREFIX) === 0;\n  };\n  StoragePluginWeb.prototype.getKey = function (key) {\n    return key.substr(this.KEY_PREFIX.length);\n  };\n  return StoragePluginWeb;\n}(WebPlugin);\nexport { StoragePluginWeb };\nvar Storage = new StoragePluginWeb();\nexport { Storage };","map":{"version":3,"names":["WebPlugin","StoragePluginWeb","_super","__extends","_this","call","name","platforms","KEY_PREFIX","prototype","get","options","Promise","resolve","_reject","value","window","localStorage","getItem","makeKey","key","set","setItem","remove","removeItem","keys","Object","filter","k","isKey","map","getKey","clear","forEach","indexOf","substr","length","Storage"],"sources":["../../../src/web/storage.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"module"}