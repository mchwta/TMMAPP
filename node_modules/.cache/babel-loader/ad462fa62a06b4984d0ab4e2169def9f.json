{"ast":null,"code":"import _regeneratorRuntime from\"/Users/hninwintthuaung/Desktop/tester/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/hninwintthuaung/Desktop/tester/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/hninwintthuaung/Desktop/tester/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{IonContent,IonHeader,IonPage,IonTitle,IonToolbar,IonButton,IonItem,IonLabel,IonInput,IonList,IonText,IonLoading}from'@ionic/react';import React,{useState}from'react';import{Redirect}from'react-router';import{useAuth}from'../auth';import{auth}from'../firebase';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LoginPage=function LoginPage(){var _useAuth=useAuth(),loggedIn=_useAuth.loggedIn;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState({loading:false,error:false}),_useState6=_slicedToArray(_useState5,2),status=_useState6[0],setStatus=_useState6[1];var handleLogin=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var credential;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;setStatus({loading:true,error:false});_context.next=4;return auth.signInWithEmailAndPassword(email,password);case 4:credential=_context.sent;console.log('credential:',credential);_context.next=12;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);setStatus({loading:false,error:true});console.log('error: ',_context.t0);case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function handleLogin(){return _ref.apply(this,arguments);};}();var handleForgotPassword=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;setStatus({loading:true,error:false});_context2.next=4;return auth.sendPasswordResetEmail(email);case 4:setStatus({loading:false,error:false});console.log('Password reset email sent successfully');_context2.next=12;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);setStatus({loading:false,error:true});console.log('error: ',_context2.t0);case 12:case\"end\":return _context2.stop();}}},_callee2,null,[[0,8]]);}));return function handleForgotPassword(){return _ref2.apply(this,arguments);};}();if(loggedIn){return/*#__PURE__*/_jsx(Redirect,{to:\"/my/entries\"});}return/*#__PURE__*/_jsxs(IonPage,{children:[/*#__PURE__*/_jsx(IonHeader,{children:/*#__PURE__*/_jsx(IonToolbar,{children:/*#__PURE__*/_jsx(IonTitle,{children:\"Login Page\"})})}),/*#__PURE__*/_jsxs(IonContent,{className:\"ion-padding\",children:[/*#__PURE__*/_jsxs(IonList,{children:[/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonLabel,{position:\"floating\",children:\"Email\"}),/*#__PURE__*/_jsx(IonInput,{type:\"email\",value:email,onIonChange:function onIonChange(event){return setEmail(event.detail.value);}})]}),/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonLabel,{position:\"floating\",children:\"Password\"}),/*#__PURE__*/_jsx(IonInput,{type:\"password\",value:password,onIonChange:function onIonChange(event){return setPassword(event.detail.value);}})]})]}),status.error&&/*#__PURE__*/_jsx(IonText,{color:\"danger\",children:\"Invalid Credentials\"}),/*#__PURE__*/_jsx(IonButton,{expand:\"block\",onClick:handleLogin,children:\"Login\"}),/*#__PURE__*/_jsx(IonButton,{expand:\"block\",onClick:handleForgotPassword,children:\"Forgot Password?\"}),/*#__PURE__*/_jsx(IonButton,{expand:\"block\",fill:\"clear\",routerLink:\"/register\",children:\"Don't Have an Account?\"}),/*#__PURE__*/_jsx(IonLoading,{isOpen:status.loading})]})]});};export default LoginPage;","map":{"version":3,"names":["IonContent","IonHeader","IonPage","IonTitle","IonToolbar","IonButton","IonItem","IonLabel","IonInput","IonList","IonText","IonLoading","React","useState","Redirect","useAuth","auth","jsx","_jsx","jsxs","_jsxs","LoginPage","_useAuth","loggedIn","_useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","password","setPassword","_useState5","loading","error","_useState6","status","setStatus","handleLogin","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","credential","wrap","_callee$","_context","prev","next","signInWithEmailAndPassword","sent","console","log","t0","stop","apply","arguments","handleForgotPassword","_ref2","_callee2","_callee2$","_context2","sendPasswordResetEmail","to","children","className","position","type","value","onIonChange","event","detail","color","expand","onClick","fill","routerLink","isOpen"],"sources":["/Users/hninwintthuaung/Desktop/tester/src/pages/LoginPage.tsx"],"sourcesContent":["import {\n  IonContent,\n  IonHeader,\n  IonPage,\n  IonTitle,\n  IonToolbar,\n  IonButton,\n  IonItem,\n  IonLabel,\n  IonInput,\n  IonList,\n  IonText,\n  IonLoading\n} from '@ionic/react';\nimport React, { useState } from 'react';\nimport { Redirect } from 'react-router';\nimport { useAuth } from '../auth';\nimport { auth } from '../firebase';\n\nconst LoginPage: React.FC = () => {\n  const { loggedIn } = useAuth();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [status, setStatus] = useState({loading:false, error:false});\n\n  const handleLogin = async () => {\n    try {\n      setStatus({loading:true, error:false});\n      const credential = await auth.signInWithEmailAndPassword(email,password);\n      console.log('credential:', credential);\n    }\n    catch (error) {\n      setStatus({loading:false, error:true});\n      console.log('error: ', error);\n    }\n  };\n\n  const handleForgotPassword = async () => {\n    try {\n      setStatus({loading:true, error:false});\n      await auth.sendPasswordResetEmail(email);\n      setStatus({loading:false, error:false});\n      console.log('Password reset email sent successfully');\n    }\n    catch (error) {\n      setStatus({loading:false, error:true});\n      console.log('error: ', error);\n    }\n  };\n\n  if(loggedIn) {\n    return <Redirect to=\"/my/entries\" />;\n  }\n  return (\n    <IonPage>\n      <IonHeader>\n        <IonToolbar>\n          <IonTitle>Login Page</IonTitle>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent className=\"ion-padding\">\n          <IonList>\n            <IonItem>\n                <IonLabel position=\"floating\">Email</IonLabel>\n                <IonInput type=\"email\" value={email}\n                  onIonChange={(event) => setEmail(event.detail.value)}\n                />\n            </IonItem>\n            <IonItem>\n                <IonLabel position=\"floating\">Password</IonLabel>\n                <IonInput type=\"password\" value={password}\n                  onIonChange={(event) => setPassword(event.detail.value)}\n                 />\n            </IonItem>\n          </IonList>\n          {status.error &&\n            <IonText color=\"danger\">Invalid Credentials</IonText>\n          }\n          <IonButton expand=\"block\" onClick={handleLogin}>Login</IonButton>\n          <IonButton expand=\"block\" onClick={handleForgotPassword}>Forgot Password?</IonButton>\n          <IonButton expand=\"block\" fill=\"clear\" routerLink=\"/register\">Don't Have an Account?</IonButton>\n          <IonLoading isOpen={status.loading} />\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default LoginPage;\n"],"mappings":"idAAA,OACEA,UAAU,CACVC,SAAS,CACTC,OAAO,CACPC,QAAQ,CACRC,UAAU,CACVC,SAAS,CACTC,OAAO,CACPC,QAAQ,CACRC,QAAQ,CACRC,OAAO,CACPC,OAAO,CACPC,UAAU,KACL,cAAc,CACrB,MAAO,CAAAC,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,QAAQ,KAAQ,cAAc,CACvC,OAASC,OAAO,KAAQ,SAAS,CACjC,OAASC,IAAI,KAAQ,aAAa,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEnC,GAAM,CAAAC,SAAmB,CAAG,QAAtB,CAAAA,SAAmBA,CAAA,CAAS,CAChC,IAAAC,QAAA,CAAqBP,OAAO,EAAE,CAAtBQ,QAAQ,CAAAD,QAAA,CAARC,QAAQ,CAChB,IAAAC,SAAA,CAA0BX,QAAQ,CAAC,EAAE,CAAC,CAAAY,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA/BG,KAAK,CAAAF,UAAA,IAAEG,QAAQ,CAAAH,UAAA,IACtB,IAAAI,UAAA,CAAgChB,QAAQ,CAAC,EAAE,CAAC,CAAAiB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAArCE,QAAQ,CAAAD,UAAA,IAAEE,WAAW,CAAAF,UAAA,IAC5B,IAAAG,UAAA,CAA4BpB,QAAQ,CAAC,CAACqB,OAAO,CAAC,KAAK,CAAEC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAAC,UAAA,CAAAV,cAAA,CAAAO,UAAA,IAA3DI,MAAM,CAAAD,UAAA,IAAEE,SAAS,CAAAF,UAAA,IAExB,GAAM,CAAAG,WAAW,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,CAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,UAAA,QAAAH,mBAAA,CAAAI,IAAA,UAAAC,SAAAC,QAAA,kBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAEhBX,SAAS,CAAC,CAACJ,OAAO,CAAC,IAAI,CAAEC,KAAK,CAAC,KAAK,CAAC,CAAC,CAACa,QAAA,CAAAE,IAAA,SACd,CAAAlC,IAAI,CAACmC,0BAA0B,CAACxB,KAAK,CAACI,QAAQ,CAAC,QAAlEc,UAAU,CAAAG,QAAA,CAAAI,IAAA,CAChBC,OAAO,CAACC,GAAG,CAAC,aAAa,CAAET,UAAU,CAAC,CAACG,QAAA,CAAAE,IAAA,iBAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAO,EAAA,CAAAP,QAAA,aAGvCV,SAAS,CAAC,CAACJ,OAAO,CAAC,KAAK,CAAEC,KAAK,CAAC,IAAI,CAAC,CAAC,CACtCkB,OAAO,CAACC,GAAG,CAAC,SAAS,CAAAN,QAAA,CAAAO,EAAA,CAAQ,CAAC,yBAAAP,QAAA,CAAAQ,IAAA,OAAAZ,OAAA,gBAEjC,kBAVK,CAAAL,WAAWA,CAAA,SAAAC,IAAA,CAAAiB,KAAA,MAAAC,SAAA,OAUhB,CAED,GAAM,CAAAC,oBAAoB,6BAAAC,KAAA,CAAAnB,iBAAA,cAAAC,mBAAA,CAAAC,IAAA,CAAG,SAAAkB,SAAA,SAAAnB,mBAAA,CAAAI,IAAA,UAAAgB,UAAAC,SAAA,kBAAAA,SAAA,CAAAd,IAAA,CAAAc,SAAA,CAAAb,IAAA,SAAAa,SAAA,CAAAd,IAAA,GAEzBX,SAAS,CAAC,CAACJ,OAAO,CAAC,IAAI,CAAEC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC4B,SAAA,CAAAb,IAAA,SACjC,CAAAlC,IAAI,CAACgD,sBAAsB,CAACrC,KAAK,CAAC,QACxCW,SAAS,CAAC,CAACJ,OAAO,CAAC,KAAK,CAAEC,KAAK,CAAC,KAAK,CAAC,CAAC,CACvCkB,OAAO,CAACC,GAAG,CAAC,wCAAwC,CAAC,CAACS,SAAA,CAAAb,IAAA,iBAAAa,SAAA,CAAAd,IAAA,GAAAc,SAAA,CAAAR,EAAA,CAAAQ,SAAA,aAGtDzB,SAAS,CAAC,CAACJ,OAAO,CAAC,KAAK,CAAEC,KAAK,CAAC,IAAI,CAAC,CAAC,CACtCkB,OAAO,CAACC,GAAG,CAAC,SAAS,CAAAS,SAAA,CAAAR,EAAA,CAAQ,CAAC,yBAAAQ,SAAA,CAAAP,IAAA,OAAAK,QAAA,gBAEjC,kBAXK,CAAAF,oBAAoBA,CAAA,SAAAC,KAAA,CAAAH,KAAA,MAAAC,SAAA,OAWzB,CAED,GAAGnC,QAAQ,CAAE,CACX,mBAAOL,IAAA,CAACJ,QAAQ,EAACmD,EAAE,CAAC,aAAa,EAAG,CACtC,CACA,mBACE7C,KAAA,CAAClB,OAAO,EAAAgE,QAAA,eACNhD,IAAA,CAACjB,SAAS,EAAAiE,QAAA,cACRhD,IAAA,CAACd,UAAU,EAAA8D,QAAA,cACThD,IAAA,CAACf,QAAQ,EAAA+D,QAAA,CAAC,YAAU,EAAW,EACpB,EACH,cACZ9C,KAAA,CAACpB,UAAU,EAACmE,SAAS,CAAC,aAAa,CAAAD,QAAA,eAC/B9C,KAAA,CAACX,OAAO,EAAAyD,QAAA,eACN9C,KAAA,CAACd,OAAO,EAAA4D,QAAA,eACJhD,IAAA,CAACX,QAAQ,EAAC6D,QAAQ,CAAC,UAAU,CAAAF,QAAA,CAAC,OAAK,EAAW,cAC9ChD,IAAA,CAACV,QAAQ,EAAC6D,IAAI,CAAC,OAAO,CAACC,KAAK,CAAE3C,KAAM,CAClC4C,WAAW,CAAE,SAAAA,YAACC,KAAK,QAAK,CAAA5C,QAAQ,CAAC4C,KAAK,CAACC,MAAM,CAACH,KAAK,CAAC,EAAC,EACrD,GACI,cACVlD,KAAA,CAACd,OAAO,EAAA4D,QAAA,eACJhD,IAAA,CAACX,QAAQ,EAAC6D,QAAQ,CAAC,UAAU,CAAAF,QAAA,CAAC,UAAQ,EAAW,cACjDhD,IAAA,CAACV,QAAQ,EAAC6D,IAAI,CAAC,UAAU,CAACC,KAAK,CAAEvC,QAAS,CACxCwC,WAAW,CAAE,SAAAA,YAACC,KAAK,QAAK,CAAAxC,WAAW,CAACwC,KAAK,CAACC,MAAM,CAACH,KAAK,CAAC,EAAC,EACvD,GACG,GACF,CACTjC,MAAM,CAACF,KAAK,eACXjB,IAAA,CAACR,OAAO,EAACgE,KAAK,CAAC,QAAQ,CAAAR,QAAA,CAAC,qBAAmB,EAAU,cAEvDhD,IAAA,CAACb,SAAS,EAACsE,MAAM,CAAC,OAAO,CAACC,OAAO,CAAErC,WAAY,CAAA2B,QAAA,CAAC,OAAK,EAAY,cACjEhD,IAAA,CAACb,SAAS,EAACsE,MAAM,CAAC,OAAO,CAACC,OAAO,CAAEjB,oBAAqB,CAAAO,QAAA,CAAC,kBAAgB,EAAY,cACrFhD,IAAA,CAACb,SAAS,EAACsE,MAAM,CAAC,OAAO,CAACE,IAAI,CAAC,OAAO,CAACC,UAAU,CAAC,WAAW,CAAAZ,QAAA,CAAC,wBAAsB,EAAY,cAChGhD,IAAA,CAACP,UAAU,EAACoE,MAAM,CAAE1C,MAAM,CAACH,OAAQ,EAAG,GAC7B,GACL,CAEd,CAAC,CAED,cAAe,CAAAb,SAAS"},"metadata":{},"sourceType":"module"}