{"ast":null,"code":"var _jsxFileName = \"/Users/hninwintthuaung/Downloads/DailyMoments/src/pages/SettingsPage.tsx\",\n  _s = $RefreshSig$();\nimport { IonButton, IonContent, IonHeader, IonPage, IonTitle, IonToolbar, IonCard, IonCardContent, IonItem, IonLabel, IonAlert } from '@ionic/react';\nimport React, { useState, useEffect } from 'react';\nimport { auth } from '../firebase';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SettingsPage = () => {\n  _s();\n  const [userEmail, setUserEmail] = useState(null);\n  const [showAlert, setShowAlert] = useState(false);\n  const [passwords, setPasswords] = useState({\n    currentPassword: '',\n    newPassword: ''\n  });\n  useEffect(() => {\n    // Get the currently logged in user's email\n    const unsubscribe = auth.onAuthStateChanged(user => {\n      if (user) {\n        setUserEmail(user.email);\n      }\n    });\n    return () => {\n      unsubscribe();\n    };\n  }, []);\n  const handleChangePassword = async () => {\n    try {\n      var _auth$currentUser;\n      await auth.signInWithEmailAndPassword(userEmail, passwords.currentPassword);\n      await ((_auth$currentUser = auth.currentUser) === null || _auth$currentUser === void 0 ? void 0 : _auth$currentUser.updatePassword(passwords.newPassword));\n      setShowAlert(true);\n    } catch (error) {\n      console.error(error);\n      alert('Could not update password');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(IonPage, {\n    children: [/*#__PURE__*/_jsxDEV(IonHeader, {\n      children: /*#__PURE__*/_jsxDEV(IonToolbar, {\n        children: /*#__PURE__*/_jsxDEV(IonTitle, {\n          children: \"Settings\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(IonContent, {\n      className: \"ion-padding\",\n      children: [userEmail && /*#__PURE__*/_jsxDEV(IonCard, {\n        children: /*#__PURE__*/_jsxDEV(IonCardContent, {\n          children: /*#__PURE__*/_jsxDEV(IonItem, {\n            children: [/*#__PURE__*/_jsxDEV(IonLabel, {\n              children: \"Email:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(IonLabel, {\n              children: userEmail\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(IonButton, {\n        expand: \"block\",\n        onClick: () => auth.signOut(),\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(IonButton, {\n        expand: \"block\",\n        onClick: () => setShowAlert(true),\n        children: \"Change Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(IonAlert, {\n        isOpen: showAlert,\n        onDidDismiss: () => setShowAlert(false),\n        header: 'Change Password',\n        inputs: [{\n          name: 'currentPassword',\n          type: 'password',\n          placeholder: 'Current Password',\n          value: passwords.currentPassword,\n          onIonChange: e => setPasswords({\n            ...passwords,\n            currentPassword: e.detail.value\n          })\n        }, {\n          name: 'newPassword',\n          type: 'password',\n          placeholder: 'New Password',\n          value: passwords.newPassword,\n          onIonChange: e => setPasswords({\n            ...passwords,\n            newPassword: e.detail.value\n          })\n        }],\n        buttons: [{\n          text: 'Cancel',\n          role: 'cancel'\n        }, {\n          text: 'Save',\n          handler: () => handleChangePassword()\n        }]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n};\n_s(SettingsPage, \"04yuJP4X5S4Ccg/bfOi1lMkjXxE=\");\n_c = SettingsPage;\nexport default SettingsPage;\nvar _c;\n$RefreshReg$(_c, \"SettingsPage\");","map":{"version":3,"names":["IonButton","IonContent","IonHeader","IonPage","IonTitle","IonToolbar","IonCard","IonCardContent","IonItem","IonLabel","IonAlert","React","useState","useEffect","auth","jsxDEV","_jsxDEV","SettingsPage","_s","userEmail","setUserEmail","showAlert","setShowAlert","passwords","setPasswords","currentPassword","newPassword","unsubscribe","onAuthStateChanged","user","email","handleChangePassword","_auth$currentUser","signInWithEmailAndPassword","currentUser","updatePassword","error","console","alert","children","fileName","_jsxFileName","lineNumber","columnNumber","className","expand","onClick","signOut","isOpen","onDidDismiss","header","inputs","name","type","placeholder","value","onIonChange","e","detail","buttons","text","role","handler","_c","$RefreshReg$"],"sources":["/Users/hninwintthuaung/Downloads/DailyMoments/src/pages/SettingsPage.tsx"],"sourcesContent":["import {\n  IonButton,\n  IonContent,\n  IonHeader,\n  IonPage,\n  IonTitle,\n  IonToolbar,\n  IonCard,\n  IonCardContent,\n  IonItem,\n  IonLabel,\n  IonInput,\n  IonAlert,\n} from '@ionic/react';\nimport React, { useState, useEffect } from 'react';\nimport { auth } from '../firebase';\n\nconst SettingsPage: React.FC = () => {\n  const [userEmail, setUserEmail] = useState<string | null>(null);\n  const [showAlert, setShowAlert] = useState(false);\n  const [passwords, setPasswords] = useState({\n    currentPassword: '',\n    newPassword: '',\n  });\n\n  useEffect(() => {\n    // Get the currently logged in user's email\n    const unsubscribe = auth.onAuthStateChanged((user) => {\n      if (user) {\n        setUserEmail(user.email);\n      }\n    });\n\n    return () => {\n      unsubscribe();\n    };\n  }, []);\n\n  const handleChangePassword = async () => {\n    try {\n      await auth.signInWithEmailAndPassword(userEmail, passwords.currentPassword);\n      await auth.currentUser?.updatePassword(passwords.newPassword);\n      setShowAlert(true);\n    } catch (error) {\n      console.error(error);\n      alert('Could not update password');\n    }\n  };\n\n  return (\n    <IonPage>\n      <IonHeader>\n        <IonToolbar>\n          <IonTitle>Settings</IonTitle>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent className=\"ion-padding\">\n        {userEmail && (\n          <IonCard>\n            <IonCardContent>\n              <IonItem>\n                <IonLabel>Email:</IonLabel>\n                <IonLabel>{userEmail}</IonLabel>\n              </IonItem>\n            </IonCardContent>\n          </IonCard>\n        )}\n        <IonButton expand=\"block\" onClick={() => auth.signOut()}>\n          Logout\n        </IonButton>\n        <IonButton expand=\"block\" onClick={() => setShowAlert(true)}>\n          Change Password\n        </IonButton>\n        <IonAlert\n          isOpen={showAlert}\n          onDidDismiss={() => setShowAlert(false)}\n          header={'Change Password'}\n          inputs={[\n            {\n              name: 'currentPassword',\n              type: 'password',\n              placeholder: 'Current Password',\n              value: passwords.currentPassword,\n              onIonChange: (e) => setPasswords({ ...passwords, currentPassword: e.detail.value! }),\n            },\n            {\n              name: 'newPassword',\n              type: 'password',\n              placeholder: 'New Password',\n              value: passwords.newPassword,\n              onIonChange: (e) => setPasswords({ ...passwords, newPassword: e.detail.value! }),\n            },\n          ]}\n          buttons={[\n            {\n              text: 'Cancel',\n              role: 'cancel',\n            },\n            {\n              text: 'Save',\n              handler: () => handleChangePassword(),\n            },\n          ]}\n        />\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default SettingsPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}