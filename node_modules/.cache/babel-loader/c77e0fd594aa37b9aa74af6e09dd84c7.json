{"ast":null,"code":"import _slicedToArray from\"/Users/hninwintthuaung/Desktop/tester/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useEffect,useState}from'react';import{auth as firebaseAuth}from'./firebase';// most components will use this,\n// if user is logged in and what is the userId\n// Only used by App to initialize the firebase authentication\nexport var AuthContext=/*#__PURE__*/React.createContext({loggedIn:false});export function useAuth(){return useContext(AuthContext);}export function useAuthInit(){var _useState=useState({loading:true}),_useState2=_slicedToArray(_useState,2),authInit=_useState2[0],setAuthInit=_useState2[1];useEffect(function(){return firebaseAuth.onAuthStateChanged(function(firebaseUser){// setAuthInit({loading: false, auth: {loggedIn: Boolean(user)}});\nvar auth=firebaseUser?{loggedIn:true,userId:firebaseUser.uid}:{loggedIn:false};setAuthInit({loading:false,auth:auth});});},[]);// const [authState, setAuthInit] = useState<AuthInit>({loading: true});\n// useEffect(() => {\n//   return firebaseAuth.onAuthStateChanged((firebaseUser) => {\n//         const auth = firebaseUser ?\n//             {loggedIn: true, userId: firebaseUser.uid } :\n//             {loggedIn: false};\n//         setAuthInit({loading: false, auth});\n//   });\n// }, []);\nreturn authInit;}// export function useAuthInit(): AuthInit {\n//   const [authInit, setAuthInit] = useState<AuthInit>({ loading: true, loggedIn: false });\n//     useEffect(() => {\n//       firebaseAuth.onAuthStateChanged((user) => {\n//           setAuthInit({loading: false, loggedIn: Boolean(user)});\n//         });\n//       },[]);\n//   return authInit;\n// }","map":{"version":3,"names":["React","useContext","useEffect","useState","auth","firebaseAuth","AuthContext","createContext","loggedIn","useAuth","useAuthInit","_useState","loading","_useState2","_slicedToArray","authInit","setAuthInit","onAuthStateChanged","firebaseUser","userId","uid"],"sources":["/Users/hninwintthuaung/Desktop/tester/src/auth.ts"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\r\nimport { auth as firebaseAuth } from './firebase'; \r\n\r\n// most components will use this,\r\n// if user is logged in and what is the userId\r\ninterface Auth {\r\n  loggedIn: boolean;\r\n  userId?: string; // ? is optional\r\n}\r\n\r\n// Only used by App to initialize the firebase authentication\r\ninterface AuthInit {\r\n  loading: boolean;\r\n  auth?: Auth;\r\n}\r\n\r\nexport const AuthContext = React.createContext<Auth>({loggedIn:false});\r\n\r\nexport function useAuth(): Auth {\r\n    return useContext(AuthContext);\r\n}\r\n\r\nexport function useAuthInit(): AuthInit {\r\n  const [authInit, setAuthInit] = useState<AuthInit>({loading: true});\r\n  useEffect(() => {\r\n    return firebaseAuth.onAuthStateChanged((firebaseUser) => {\r\n        // setAuthInit({loading: false, auth: {loggedIn: Boolean(user)}});\r\n        const auth = firebaseUser ?\r\n          { loggedIn:  true, userId: firebaseUser.uid} :\r\n          { loggedIn: false };\r\n        setAuthInit({ loading: false, auth});\r\n      });\r\n    },[]);\r\n\r\n  // const [authState, setAuthInit] = useState<AuthInit>({loading: true});\r\n  // useEffect(() => {\r\n  //   return firebaseAuth.onAuthStateChanged((firebaseUser) => {\r\n  //         const auth = firebaseUser ?\r\n  //             {loggedIn: true, userId: firebaseUser.uid } :\r\n  //             {loggedIn: false};\r\n  //         setAuthInit({loading: false, auth});\r\n  //   });\r\n  // }, []);\r\n  return authInit;\r\n}\r\n\r\n// export function useAuthInit(): AuthInit {\r\n//   const [authInit, setAuthInit] = useState<AuthInit>({ loading: true, loggedIn: false });\r\n//     useEffect(() => {\r\n//       firebaseAuth.onAuthStateChanged((user) => {\r\n//           setAuthInit({loading: false, loggedIn: Boolean(user)});\r\n//         });\r\n//       },[]);\r\n//   return authInit;\r\n// }\r\n\r\n"],"mappings":"4JAAA,MAAO,CAAAA,KAAK,EAAIC,UAAU,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC9D,OAASC,IAAI,GAAI,CAAAC,YAAY,KAAQ,YAAY,CAEjD;AACA;AAMA;AAMA,MAAO,IAAM,CAAAC,WAAW,cAAGN,KAAK,CAACO,aAAa,CAAO,CAACC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAEtE,MAAO,SAAS,CAAAC,OAAOA,CAAA,CAAS,CAC5B,MAAO,CAAAR,UAAU,CAACK,WAAW,CAAC,CAClC,CAEA,MAAO,SAAS,CAAAI,WAAWA,CAAA,CAAa,CACtC,IAAAC,SAAA,CAAgCR,QAAQ,CAAW,CAACS,OAAO,CAAE,IAAI,CAAC,CAAC,CAAAC,UAAA,CAAAC,cAAA,CAAAH,SAAA,IAA5DI,QAAQ,CAAAF,UAAA,IAAEG,WAAW,CAAAH,UAAA,IAC5BX,SAAS,CAAC,UAAM,CACd,MAAO,CAAAG,YAAY,CAACY,kBAAkB,CAAC,SAACC,YAAY,CAAK,CACrD;AACA,GAAM,CAAAd,IAAI,CAAGc,YAAY,CACvB,CAAEV,QAAQ,CAAG,IAAI,CAAEW,MAAM,CAAED,YAAY,CAACE,GAAG,CAAC,CAC5C,CAAEZ,QAAQ,CAAE,KAAM,CAAC,CACrBQ,WAAW,CAAC,CAAEJ,OAAO,CAAE,KAAK,CAAER,IAAI,CAAJA,IAAI,CAAC,CAAC,CACtC,CAAC,CAAC,CACJ,CAAC,CAAC,EAAE,CAAC,CAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAO,CAAAW,QAAQ,CACjB,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module"}