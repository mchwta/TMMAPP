{"ast":null,"code":"import { __extends } from \"tslib\";\nimport { WebPlugin } from './index';\nvar NetworkPluginWeb = /** @class */function (_super) {\n  __extends(NetworkPluginWeb, _super);\n  function NetworkPluginWeb() {\n    var _this = _super.call(this, {\n      name: 'Network',\n      platforms: ['web']\n    }) || this;\n    _this.listenerFunction = null;\n    return _this;\n  }\n  NetworkPluginWeb.prototype.getStatus = function () {\n    return new Promise(function (resolve, reject) {\n      if (!window.navigator) {\n        reject('Network info not available');\n        return;\n      }\n      var connected = window.navigator.onLine;\n      var connection = window.navigator.connection || window.navigator.mozConnection || window.navigator.webkitConnection;\n      var connectionType = connection ? connection.type || connection.effectiveType : 'wifi';\n      resolve({\n        connected: connected,\n        connectionType: connected ? connectionType : 'none'\n      });\n    });\n  };\n  NetworkPluginWeb.prototype.addListener = function (eventName, listenerFunc) {\n    var thisRef = this;\n    var connection = window.navigator.connection || window.navigator.mozConnection || window.navigator.webkitConnection;\n    var connectionType = connection ? connection.type || connection.effectiveType : 'wifi';\n    var onlineBindFunc = listenerFunc.bind(thisRef, {\n      connected: true,\n      connectionType: connectionType\n    });\n    var offlineBindFunc = listenerFunc.bind(thisRef, {\n      connected: false,\n      connectionType: 'none'\n    });\n    if (eventName.localeCompare('networkStatusChange') === 0) {\n      window.addEventListener('online', onlineBindFunc);\n      window.addEventListener('offline', offlineBindFunc);\n      return {\n        remove: function remove() {\n          window.removeEventListener('online', onlineBindFunc);\n          window.removeEventListener('offline', offlineBindFunc);\n        }\n      };\n    }\n  };\n  return NetworkPluginWeb;\n}(WebPlugin);\nexport { NetworkPluginWeb };\nvar Network = new NetworkPluginWeb();\nexport { Network };","map":{"version":3,"names":["WebPlugin","NetworkPluginWeb","_super","__extends","_this","call","name","platforms","listenerFunction","prototype","getStatus","Promise","resolve","reject","window","navigator","connected","onLine","connection","mozConnection","webkitConnection","connectionType","type","effectiveType","addListener","eventName","listenerFunc","thisRef","onlineBindFunc","bind","offlineBindFunc","localeCompare","addEventListener","remove","removeEventListener","Network"],"sources":["../../../src/web/network.ts"],"sourcesContent":[null],"mappings":";AAAA,SAASA,SAAS,QAAQ,SAAS;AASnC,IAAAC,gBAAA,0BAAAC,MAAA;EAAsCC,SAAA,CAAAF,gBAAA,EAAAC,MAAA;EAIpC,SAAAD,iBAAA;IAAA,IAAAG,KAAA,GACEF,MAAA,CAAAG,IAAA,OAAM;MACJC,IAAI,EAAE,SAAS;MACfC,SAAS,EAAE,CAAC,KAAK;KAClB,CAAC;IANJH,KAAA,CAAAI,gBAAgB,GAAQ,IAAI;;EAO5B;EAEAP,gBAAA,CAAAQ,SAAA,CAAAC,SAAS,GAAT;IACE,OAAO,IAAIC,OAAO,CAAC,UAACC,OAAO,EAAEC,MAAM;MACjC,IAAI,CAACC,MAAM,CAACC,SAAS,EAAE;QACrBF,MAAM,CAAC,4BAA4B,CAAC;QACpC;;MAGF,IAAIG,SAAS,GAAGF,MAAM,CAACC,SAAS,CAACE,MAAM;MACvC,IAAIC,UAAU,GAAGJ,MAAM,CAACC,SAAS,CAACG,UAAU,IAAIJ,MAAM,CAACC,SAAS,CAACI,aAAa,IAAIL,MAAM,CAACC,SAAS,CAACK,gBAAgB;MACnH,IAAIC,cAAc,GAAGH,UAAU,GAAIA,UAAU,CAACI,IAAI,IAAIJ,UAAU,CAACK,aAAa,GAAI,MAAM;MAExFX,OAAO,CAAC;QACNI,SAAS,EAAEA,SAAS;QACpBK,cAAc,EAAEL,SAAS,GAAGK,cAAc,GAAG;OAC7B,CAAC;IACrB,CAAC,CAAC;EACJ,CAAC;EAEDpB,gBAAA,CAAAQ,SAAA,CAAAe,WAAW,GAAX,UAAYC,SAAgC,EAAEC,YAA6C;IACzF,IAAIC,OAAO,GAAG,IAAI;IAClB,IAAIT,UAAU,GAAGJ,MAAM,CAACC,SAAS,CAACG,UAAU,IAAIJ,MAAM,CAACC,SAAS,CAACI,aAAa,IAAIL,MAAM,CAACC,SAAS,CAACK,gBAAgB;IACnH,IAAIC,cAAc,GAAGH,UAAU,GAAIA,UAAU,CAACI,IAAI,IAAIJ,UAAU,CAACK,aAAa,GAAI,MAAM;IAExF,IAAIK,cAAc,GAAGF,YAAY,CAACG,IAAI,CAACF,OAAO,EAAE;MAAEX,SAAS,EAAE,IAAI;MAAEK,cAAc,EAAEA;IAAc,CAAE,CAAC;IACpG,IAAIS,eAAe,GAAGJ,YAAY,CAACG,IAAI,CAACF,OAAO,EAAE;MAAEX,SAAS,EAAE,KAAK;MAAEK,cAAc,EAAE;IAAM,CAAE,CAAC;IAE9F,IAAII,SAAS,CAACM,aAAa,CAAC,qBAAqB,CAAC,KAAK,CAAC,EAAE;MACxDjB,MAAM,CAACkB,gBAAgB,CAAC,QAAQ,EAAEJ,cAAc,CAAC;MACjDd,MAAM,CAACkB,gBAAgB,CAAC,SAAS,EAAEF,eAAe,CAAC;MACnD,OAAO;QACLG,MAAM,EAAE,SAAAA,OAAA;UACNnB,MAAM,CAACoB,mBAAmB,CAAC,QAAQ,EAAEN,cAAc,CAAC;UACpDd,MAAM,CAACoB,mBAAmB,CAAC,SAAS,EAAEJ,eAAe,CAAC;QACxD;OACD;;EAEL,CAAC;EACH,OAAA7B,gBAAC;AAAD,CAAC,CAhDqCD,SAAS;;AAkD/C,IAAMmC,OAAO,GAAG,IAAIlC,gBAAgB,EAAE;AAEtC,SAASkC,OAAO"},"metadata":{},"sourceType":"module"}