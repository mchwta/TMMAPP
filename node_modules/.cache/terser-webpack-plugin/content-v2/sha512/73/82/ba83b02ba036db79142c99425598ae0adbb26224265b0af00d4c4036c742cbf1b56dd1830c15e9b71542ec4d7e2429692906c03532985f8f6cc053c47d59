{"code":"(this[\"webpackJsonpdaily-moments\"]=this[\"webpackJsonpdaily-moments\"]||[]).push([[1],{70:function(e,t,n){var r={\"./ion-action-sheet.entry.js\":[95,5],\"./ion-alert.entry.js\":[96,6],\"./ion-app_8.entry.js\":[97,7],\"./ion-avatar_3.entry.js\":[98,17],\"./ion-back-button.entry.js\":[99,18],\"./ion-backdrop.entry.js\":[100,43],\"./ion-button_2.entry.js\":[101,19],\"./ion-card_5.entry.js\":[102,20],\"./ion-checkbox.entry.js\":[103,21],\"./ion-chip.entry.js\":[104,22],\"./ion-col_3.entry.js\":[105,44],\"./ion-datetime_3.entry.js\":[106,10],\"./ion-fab_3.entry.js\":[107,23],\"./ion-img.entry.js\":[108,45],\"./ion-infinite-scroll_2.entry.js\":[109,46],\"./ion-input.entry.js\":[110,24],\"./ion-item-option_3.entry.js\":[111,25],\"./ion-item_8.entry.js\":[112,26],\"./ion-loading.entry.js\":[113,27],\"./ion-menu_3.entry.js\":[114,28],\"./ion-modal.entry.js\":[115,8],\"./ion-nav_2.entry.js\":[116,14],\"./ion-popover.entry.js\":[117,9],\"./ion-progress-bar.entry.js\":[118,29],\"./ion-radio_2.entry.js\":[119,30],\"./ion-range.entry.js\":[120,31],\"./ion-refresher_2.entry.js\":[121,11],\"./ion-reorder_2.entry.js\":[122,16],\"./ion-ripple-effect.entry.js\":[123,47],\"./ion-route_4.entry.js\":[124,32],\"./ion-searchbar.entry.js\":[125,33],\"./ion-segment_2.entry.js\":[126,34],\"./ion-select_3.entry.js\":[127,35],\"./ion-slide_2.entry.js\":[128,48],\"./ion-spinner.entry.js\":[129,13],\"./ion-split-pane.entry.js\":[130,49],\"./ion-tab-bar_2.entry.js\":[131,36],\"./ion-tab_2.entry.js\":[132,15],\"./ion-text.entry.js\":[133,37],\"./ion-textarea.entry.js\":[134,38],\"./ion-toast.entry.js\":[135,39],\"./ion-toggle.entry.js\":[136,12],\"./ion-virtual-scroll.entry.js\":[137,50]};function c(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error(\"Cannot find module '\"+e+\"'\");throw t.code=\"MODULE_NOT_FOUND\",t}));var t=r[e],c=t[0];return n.e(t[1]).then((function(){return n(c)}))}c.keys=function(){return Object.keys(r)},c.id=70,e.exports=c},72:function(e,t,n){var r={\"./ion-icon.entry.js\":[138,57]};function c(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error(\"Cannot find module '\"+e+\"'\");throw t.code=\"MODULE_NOT_FOUND\",t}));var t=r[e],c=t[0];return n.e(t[1]).then((function(){return n(c)}))}c.keys=function(){return Object.keys(r)},c.id=72,e.exports=c},90:function(e,t,n){},91:function(e,t,n){\"use strict\";n.r(t);var r=n(62),c=n(1),i=n.n(c),s=n(34),o=n.n(s),a=n(4),j=n(24),l=n(57),d=n(19),u=n(18),b=n(60),O=(n(77),n(93),n(92),b.a.initializeApp({apiKey:\"AIzaSyA-rtvXR1IMYsW94eaZIMJ0FtYCMV0_3r4\",authDomain:\"daily-moments-95ee2.firebaseapp.com\",databaseURL:\"https://daily-moments95ee2.appspot.com\",projectId:\"daily-moments-95ee2\",storageBucket:\"daily-moments-95ee2.appspot.com\",messagingSenderId:\"755031950734\",appId:\"1:755031950734:web:fd08aac50b4527fa2550df\",measurementId:\"G-5FKPP6KYMF\"})),h=O.auth(),x=O.firestore(),p=O.storage(),f=i.a.createContext({loggedIn:!1});function g(){return Object(c.useContext)(f)}var m=n(61);function y(e){return Object(m.a)({id:e.id},e.data())}function v(e){return new Date(e).toLocaleDateString(\"en-US\",{day:\"numeric\",month:\"short\",year:\"numeric\"})}var k=n(2),w=function(){var e=g().userId,t=Object(c.useState)([]),n=Object(u.a)(t,2),r=n[0],i=n[1];return Object(c.useEffect)((function(){return x.collection(\"users\").doc(e).collection(\"entries\").orderBy(\"date\",\"desc\").limit(7).onSnapshot((function(e){var t=e.docs;return i(t.map(y))}))}),[e]),Object(k.jsxs)(a.q,{children:[Object(k.jsx)(a.i,{children:Object(k.jsx)(a.A,{children:Object(k.jsx)(a.z,{children:\"Homepage\"})})}),Object(k.jsxs)(a.e,{className:\"ion-padding\",children:[r.map((function(e){return Object(k.jsxs)(a.m,{button:!0,routerLink:\"/my/entries/view/\".concat(e.id),children:[Object(k.jsx)(a.y,{slot:\"end\",children:Object(k.jsx)(a.k,{src:null===e||void 0===e?void 0:e.pictureUrl})}),Object(k.jsxs)(a.n,{children:[Object(k.jsx)(\"h1\",{children:v(e.date)}),Object(k.jsx)(\"h2\",{children:e.title})]})]},e.id)})),Object(k.jsx)(a.g,{vertical:\"bottom\",horizontal:\"end\",children:Object(k.jsx)(a.h,{routerLink:\"/my/entries/add\",children:Object(k.jsx)(a.j,{icon:d.a})})})]})]})},I=n(9),S=n.n(I),_=n(17),C=function(){var e=Object(j.g)().params.id,t=g().userId,n=Object(c.useState)(),r=Object(u.a)(n,2),i=r[0],s=r[1],o=Object(j.f)();Object(c.useEffect)((function(){x.collection(\"users\").doc(t).collection(\"entries\").doc(e).get().then((function(e){s(y(e))}))}),[t,e]);var l=function(){var n=Object(_.a)(S.a.mark((function n(){var r;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=x.collection(\"users\").doc(t).collection(\"entries\").doc(e),n.next=3,r.delete();case 3:o.goBack();case 4:case\"end\":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(k.jsxs)(a.q,{children:[Object(k.jsx)(a.i,{children:Object(k.jsxs)(a.A,{children:[Object(k.jsx)(a.d,{slot:\"start\",children:Object(k.jsx)(a.b,{})}),Object(k.jsx)(a.z,{children:v(null===i||void 0===i?void 0:i.date)}),Object(k.jsx)(a.d,{slot:\"end\",children:Object(k.jsx)(a.c,{onClick:l,children:Object(k.jsx)(a.j,{icon:d.q,slot:\"icon-only\"})})})]})}),Object(k.jsxs)(a.e,{className:\"ion-padding\",children:[Object(k.jsx)(\"h2\",{children:null===i||void 0===i?void 0:i.title}),Object(k.jsx)(\"img\",{src:null===i||void 0===i?void 0:i.pictureUrl,alt:null===i||void 0===i?void 0:i.title}),Object(k.jsx)(\"p\",{children:null===i||void 0===i?void 0:i.description})]})]})},L=function(){return Object(k.jsxs)(a.q,{children:[Object(k.jsx)(a.i,{children:Object(k.jsx)(a.A,{children:Object(k.jsx)(a.z,{children:\"Settings\"})})}),Object(k.jsx)(a.e,{className:\"ion-padding\",children:Object(k.jsx)(a.c,{expand:\"block\",onClick:function(){return h.signOut()},children:\"Logout\"})})]})};console.log(Object(a.K)(\"ios\")),console.log(Object(a.J)());var A=function(){var e=Object(c.useState)(\"\"),t=Object(u.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(\"\"),s=Object(u.a)(i,2),o=s[0],j=s[1],l=Object(c.useState)(\"\"),d=Object(u.a)(l,2),b=d[0],O=d[1],h=g().userId,f=Object(c.useState)(\"/assets/placeholder.png\"),m=Object(u.a)(f,2),y=m[0],v=m[1],w=Object(c.useRef)();function I(e,t){return C.apply(this,arguments)}function C(){return C=Object(_.a)(S.a.mark((function e(t,n){var r,c,i,s,o;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=p.ref(\"/users/\".concat(n,\"/pictures/\").concat(Date.now())),e.next=3,fetch(t);case 3:return c=e.sent,e.next=6,c.blob();case 6:return i=e.sent,e.next=9,r.put(i);case 9:return s=e.sent,e.next=12,s.ref.getDownloadURL();case 12:return o=e.sent,e.abrupt(\"return\",o);case 14:case\"end\":return e.stop()}}),e)}))),C.apply(this,arguments)}Object(c.useEffect)((function(){return function(){y.startsWith(\"blob\")&&(URL.revokeObjectURL(y),console.log(\"Revoked\",y))}}),[y]);var L=function(){var e=Object(_.a)(S.a.mark((function e(){var t,r,c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=x.collection(\"users\").doc(h).collection(\"entries\"),r={date:n,title:o,pictureUrl:y,description:b},!y.startsWith(\"blob\")){e.next=6;break}return e.next=5,I(y,h);case 5:r.pictureUrl=e.sent;case 6:return e.next=8,t.add(r);case 8:c=e.sent,console.log(\"saved\",c.id);case 10:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(k.jsxs)(a.q,{children:[Object(k.jsx)(a.i,{children:Object(k.jsxs)(a.A,{children:[Object(k.jsx)(a.d,{slot:\"start\",children:Object(k.jsx)(a.b,{})}),Object(k.jsx)(a.z,{children:\" Add Entry \"})]})}),Object(k.jsxs)(a.e,{className:\"ion-padding\",children:[Object(k.jsxs)(a.o,{children:[Object(k.jsxs)(a.m,{children:[Object(k.jsx)(a.n,{position:\"floating\",children:\"Date \"}),Object(k.jsx)(a.f,{value:n,onIonChange:function(e){return r(e.detail.value)}})]}),Object(k.jsxs)(a.m,{children:[Object(k.jsx)(a.n,{position:\"floating\",children:\"Title \"}),Object(k.jsx)(a.l,{type:\"text\",value:o,onIonChange:function(e){return j(e.detail.value)}})]}),Object(k.jsxs)(a.m,{children:[Object(k.jsx)(a.n,{position:\"floating\",children:\"Picture\"}),Object(k.jsx)(\"br\",{}),Object(k.jsx)(\"input\",{type:\"file\",accept:\"image/*\",hidden:!0,ref:w,onChange:function(e){if(console.log(\"Files:\",e.target.files),e.target.files.length>0){var t=e.target.files.item(0),n=URL.createObjectURL(t);v(n)}}}),Object(k.jsx)(\"img\",{src:y,alt:\"\",style:{cursor:\"pointer\"},onClick:function(){return w.current.click()}})]}),Object(k.jsxs)(a.m,{children:[Object(k.jsx)(a.n,{position:\"floating\",children:\"Description \"}),Object(k.jsx)(a.x,{value:b,onIonChange:function(e){return O(e.detail.value)}})]})]}),Object(k.jsx)(a.c,{expand:\"block\",type:\"submit\",onClick:L,routerLink:\"/my/entries\",children:\" Submit \"})]})]})},U=function(){return g().loggedIn?Object(k.jsxs)(a.v,{children:[Object(k.jsxs)(a.s,{children:[Object(k.jsx)(j.b,{exact:!0,path:\"/my/entries\",children:Object(k.jsx)(w,{})}),Object(k.jsx)(j.b,{exact:!0,path:\"/my/entries/view/:id\",children:Object(k.jsx)(C,{})}),Object(k.jsx)(j.b,{exact:!0,path:\"/my/settings\",children:Object(k.jsx)(L,{})}),Object(k.jsx)(j.b,{exact:!0,path:\"/my/entries/add\",children:Object(k.jsx)(A,{})})]}),Object(k.jsxs)(a.t,{slot:\"bottom\",children:[Object(k.jsxs)(a.u,{tab:\"home\",href:\"/my/entries\",children:[Object(k.jsx)(a.j,{icon:d.i}),Object(k.jsx)(a.n,{children:\"Home\"})]}),Object(k.jsxs)(a.u,{tab:\"settings\",href:\"/my/settings\",children:[Object(k.jsx)(a.j,{icon:d.p}),Object(k.jsx)(a.n,{children:\"Settings\"})]})]})]}):Object(k.jsx)(j.a,{to:\"/login\"})},E=function(){var e=g().loggedIn,t=Object(c.useState)(\"\"),n=Object(u.a)(t,2),r=n[0],i=n[1],s=Object(c.useState)(\"\"),o=Object(u.a)(s,2),l=o[0],d=o[1],b=Object(c.useState)({loading:!1,error:!1}),O=Object(u.a)(b,2),x=O[0],p=O[1],f=function(){var e=Object(_.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p({loading:!0,error:!1}),e.next=4,h.signInWithEmailAndPassword(r,l);case 4:t=e.sent,console.log(\"credential:\",t),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),p({loading:!1,error:!0}),console.log(\"error: \",e.t0);case 12:case\"end\":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return console.log(\"Login Status: \".concat(e)),e?Object(k.jsx)(j.a,{to:\"/my/entries\"}):Object(k.jsxs)(a.q,{children:[Object(k.jsx)(a.i,{children:Object(k.jsx)(a.A,{children:Object(k.jsx)(a.z,{children:\"Login Page\"})})}),Object(k.jsxs)(a.e,{className:\"ion-padding\",children:[Object(k.jsxs)(a.o,{children:[Object(k.jsxs)(a.m,{children:[Object(k.jsx)(a.n,{position:\"floating\",children:\"Email\"}),Object(k.jsx)(a.l,{type:\"email\",value:r,onIonChange:function(e){return i(e.detail.value)}})]}),Object(k.jsxs)(a.m,{children:[Object(k.jsx)(a.n,{position:\"floating\",children:\"Password\"}),Object(k.jsx)(a.l,{type:\"password\",value:l,onIonChange:function(e){return d(e.detail.value)}})]})]}),x.error&&Object(k.jsx)(a.w,{color:\"danger\",children:\"Invalid Credentials\"}),Object(k.jsx)(a.c,{expand:\"block\",onClick:f,children:\"Login\"}),Object(k.jsx)(a.c,{expand:\"block\",fill:\"clear\",routerLink:\"/register\",children:\"Don't Have an Account?\"}),Object(k.jsx)(a.p,{isOpen:x.loading})]})]})},P=function(){return Object(k.jsx)(a.q,{children:Object(k.jsx)(a.e,{className:\"ion-padding\",children:\"Page Not Found.\"})})},D=function(){var e=g().loggedIn,t=Object(c.useState)(\"\"),n=Object(u.a)(t,2),r=n[0],i=n[1],s=Object(c.useState)(\"\"),o=Object(u.a)(s,2),l=o[0],d=o[1],b=Object(c.useState)({loading:!1,error:!1}),O=Object(u.a)(b,2),x=O[0],p=O[1],f=function(){var e=Object(_.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p({loading:!0,error:!1}),e.next=4,h.createUserWithEmailAndPassword(r,l);case 4:t=e.sent,console.log(\"credential:\",t),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),p({loading:!1,error:!0}),console.log(\"error: \",e.t0);case 12:case\"end\":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return console.log(\"Login Status: \".concat(e)),e?Object(k.jsx)(j.a,{to:\"/my/entries\"}):Object(k.jsxs)(a.q,{children:[Object(k.jsx)(a.i,{children:Object(k.jsx)(a.A,{children:Object(k.jsx)(a.z,{children:\"Register Page\"})})}),Object(k.jsxs)(a.e,{className:\"ion-padding\",children:[Object(k.jsxs)(a.o,{children:[Object(k.jsxs)(a.m,{children:[Object(k.jsx)(a.n,{position:\"floating\",children:\"Email\"}),Object(k.jsx)(a.l,{type:\"email\",value:r,onIonChange:function(e){return i(e.detail.value)}})]}),Object(k.jsxs)(a.m,{children:[Object(k.jsx)(a.n,{position:\"floating\",children:\"Password\"}),Object(k.jsx)(a.l,{type:\"password\",value:l,onIonChange:function(e){return d(e.detail.value)}})]})]}),x.error&&Object(k.jsx)(a.w,{color:\"danger\",children:\"Registration Failed!\"}),Object(k.jsx)(a.c,{expand:\"block\",onClick:f,children:\"Register\"}),Object(k.jsx)(a.c,{expand:\"block\",fill:\"clear\",routerLink:\"/login\",children:\"Already Have an Account?\"}),Object(k.jsx)(a.p,{isOpen:x.loading})]})]})},N=function(){var e=function(){var e=Object(c.useState)({loading:!0}),t=Object(u.a)(e,2),n=t[0],r=t[1];return Object(c.useEffect)((function(){return h.onAuthStateChanged((function(e){var t=e?{loggedIn:!0,userId:e.uid}:{loggedIn:!1};r({loading:!1,auth:t})}))}),[]),n}(),t=e.loading,n=e.auth;return t?Object(k.jsx)(a.p,{isOpen:!0}):(console.log(\"rendering App with authState=\",n),Object(k.jsx)(a.a,{children:Object(k.jsx)(f.Provider,{value:n,children:Object(k.jsx)(l.a,{children:Object(k.jsxs)(j.d,{children:[Object(k.jsx)(j.b,{exact:!0,path:\"/login\",children:Object(k.jsx)(E,{})}),Object(k.jsx)(j.b,{exact:!0,path:\"/register\",children:Object(k.jsx)(D,{})}),Object(k.jsx)(j.b,{path:\"/my\",children:Object(k.jsx)(U,{})}),Object(k.jsx)(j.a,{exact:!0,path:\"/\",to:\"/login\"}),Object(k.jsx)(j.b,{children:Object(k.jsx)(P,{})})]})})})}))};Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(80),n(81),n(82),n(83),n(84),n(85),n(86),n(87),n(88),n(89),n(90);var R=r.a.SplashScreen;o.a.render(Object(k.jsx)(N,{}),document.getElementById(\"root\")),R.hide(),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[91,3,4]]]);","name":"static/js/main.5bc73c19.chunk.js","map":{"version":3,"sources":["static/js/main.5bc73c19.chunk.js"],"names":["this","push","module","exports","__webpack_require__","map","webpackAsyncContext","req","o","Promise","resolve","then","e","Error","code","ids","id","keys","Object","__webpack_exports__","r","esm","react","react_default","n","react_dom","react_dom_default","index_esm","react_router","dist_index_esm","icons","slicedToArray","app_dist_index_esm","app","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firebase_auth","auth","firestore","store","storage","AuthContext","a","createContext","loggedIn","useAuth","objectSpread2","toEntry","doc","data","formatDate","isoString","Date","toLocaleDateString","day","month","year","jsx_runtime","pages_HomePage","userId","_useState","_useState2","entries","setEntries","collection","orderBy","limit","onSnapshot","_ref","docs","children","className","entry","button","routerLink","concat","slot","src","pictureUrl","date","title","vertical","horizontal","icon","regenerator","regenerator_default","asyncToGenerator","pages_EntryPage","params","setEntry","history","get","handleDelete","mark","_callee","entryRef","wrap","_context","prev","next","delete","goBack","stop","apply","arguments","onClick","alt","description","pages_SettingsPage","expand","signOut","console","log","pages_AddEntryPage","setDate","_useState3","_useState4","setTitle","_useState5","_useState6","setDescription","_useState7","_useState8","setPictureUrl","fileInputRef","savePicture","_x","_x2","_savePicture","_callee2","blobUrl","pictureRef","response","blob","snapshot","url","_context2","ref","now","fetch","sent","put","getDownloadURL","abrupt","startsWith","URL","revokeObjectURL","handleSave","entriesRef","entryData","add","position","value","onIonChange","detail","type","accept","hidden","onChange","event","target","files","length","file","item","_pictureUrl","createObjectURL","style","cursor","current","click","src_AppTabs","exact","path","tab","href","to","pages_LoginPage","email","setEmail","password","setPassword","loading","error","status","setStatus","handleLogin","credential","signInWithEmailAndPassword","t0","color","fill","isOpen","pages_NotFoundPage","pages_RegisterPage","handleRegister","createUserWithEmailAndPassword","src_App","_useAuthInit","authInit","setAuthInit","onAuthStateChanged","firebaseUser","uid","useAuthInit","Provider","Boolean","window","location","hostname","match","SplashScreen","render","document","getElementById","hide","navigator","serviceWorker","ready","registration","unregister"],"mappings":"CAACA,KAAK,6BAA+BA,KAAK,8BAAgC,IAAIC,KAAK,CAAC,CAAC,GAAG,CAElF,GACA,SAAUC,EAAQC,EAASC,GAEjC,IAAIC,EAAM,CACT,8BAA+B,CAC9B,GACA,GAED,uBAAwB,CACvB,GACA,GAED,uBAAwB,CACvB,GACA,GAED,0BAA2B,CAC1B,GACA,IAED,6BAA8B,CAC7B,GACA,IAED,0BAA2B,CAC1B,IACA,IAED,0BAA2B,CAC1B,IACA,IAED,wBAAyB,CACxB,IACA,IAED,0BAA2B,CAC1B,IACA,IAED,sBAAuB,CACtB,IACA,IAED,uBAAwB,CACvB,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,uBAAwB,CACvB,IACA,IAED,qBAAsB,CACrB,IACA,IAED,mCAAoC,CACnC,IACA,IAED,uBAAwB,CACvB,IACA,IAED,+BAAgC,CAC/B,IACA,IAED,wBAAyB,CACxB,IACA,IAED,yBAA0B,CACzB,IACA,IAED,wBAAyB,CACxB,IACA,IAED,uBAAwB,CACvB,IACA,GAED,uBAAwB,CACvB,IACA,IAED,yBAA0B,CACzB,IACA,GAED,8BAA+B,CAC9B,IACA,IAED,yBAA0B,CACzB,IACA,IAED,uBAAwB,CACvB,IACA,IAED,6BAA8B,CAC7B,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,+BAAgC,CAC/B,IACA,IAED,yBAA0B,CACzB,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,0BAA2B,CAC1B,IACA,IAED,yBAA0B,CACzB,IACA,IAED,yBAA0B,CACzB,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,uBAAwB,CACvB,IACA,IAED,sBAAuB,CACtB,IACA,IAED,0BAA2B,CAC1B,IACA,IAED,uBAAwB,CACvB,IACA,IAED,wBAAyB,CACxB,IACA,IAED,gCAAiC,CAChC,IACA,KAGF,SAASC,EAAoBC,GAC5B,IAAIH,EAAoBI,EAAEH,EAAKE,GAC9B,OAAOE,QAAQC,UAAUC,MAAK,WAC7B,IAAIC,EAAI,IAAIC,MAAM,uB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"},"input":"(this[\"webpackJsonpdaily-moments\"] = this[\"webpackJsonpdaily-moments\"] || []).push([[1],{\n\n/***/ 70:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar map = {\n\t\"./ion-action-sheet.entry.js\": [\n\t\t95,\n\t\t5\n\t],\n\t\"./ion-alert.entry.js\": [\n\t\t96,\n\t\t6\n\t],\n\t\"./ion-app_8.entry.js\": [\n\t\t97,\n\t\t7\n\t],\n\t\"./ion-avatar_3.entry.js\": [\n\t\t98,\n\t\t17\n\t],\n\t\"./ion-back-button.entry.js\": [\n\t\t99,\n\t\t18\n\t],\n\t\"./ion-backdrop.entry.js\": [\n\t\t100,\n\t\t43\n\t],\n\t\"./ion-button_2.entry.js\": [\n\t\t101,\n\t\t19\n\t],\n\t\"./ion-card_5.entry.js\": [\n\t\t102,\n\t\t20\n\t],\n\t\"./ion-checkbox.entry.js\": [\n\t\t103,\n\t\t21\n\t],\n\t\"./ion-chip.entry.js\": [\n\t\t104,\n\t\t22\n\t],\n\t\"./ion-col_3.entry.js\": [\n\t\t105,\n\t\t44\n\t],\n\t\"./ion-datetime_3.entry.js\": [\n\t\t106,\n\t\t10\n\t],\n\t\"./ion-fab_3.entry.js\": [\n\t\t107,\n\t\t23\n\t],\n\t\"./ion-img.entry.js\": [\n\t\t108,\n\t\t45\n\t],\n\t\"./ion-infinite-scroll_2.entry.js\": [\n\t\t109,\n\t\t46\n\t],\n\t\"./ion-input.entry.js\": [\n\t\t110,\n\t\t24\n\t],\n\t\"./ion-item-option_3.entry.js\": [\n\t\t111,\n\t\t25\n\t],\n\t\"./ion-item_8.entry.js\": [\n\t\t112,\n\t\t26\n\t],\n\t\"./ion-loading.entry.js\": [\n\t\t113,\n\t\t27\n\t],\n\t\"./ion-menu_3.entry.js\": [\n\t\t114,\n\t\t28\n\t],\n\t\"./ion-modal.entry.js\": [\n\t\t115,\n\t\t8\n\t],\n\t\"./ion-nav_2.entry.js\": [\n\t\t116,\n\t\t14\n\t],\n\t\"./ion-popover.entry.js\": [\n\t\t117,\n\t\t9\n\t],\n\t\"./ion-progress-bar.entry.js\": [\n\t\t118,\n\t\t29\n\t],\n\t\"./ion-radio_2.entry.js\": [\n\t\t119,\n\t\t30\n\t],\n\t\"./ion-range.entry.js\": [\n\t\t120,\n\t\t31\n\t],\n\t\"./ion-refresher_2.entry.js\": [\n\t\t121,\n\t\t11\n\t],\n\t\"./ion-reorder_2.entry.js\": [\n\t\t122,\n\t\t16\n\t],\n\t\"./ion-ripple-effect.entry.js\": [\n\t\t123,\n\t\t47\n\t],\n\t\"./ion-route_4.entry.js\": [\n\t\t124,\n\t\t32\n\t],\n\t\"./ion-searchbar.entry.js\": [\n\t\t125,\n\t\t33\n\t],\n\t\"./ion-segment_2.entry.js\": [\n\t\t126,\n\t\t34\n\t],\n\t\"./ion-select_3.entry.js\": [\n\t\t127,\n\t\t35\n\t],\n\t\"./ion-slide_2.entry.js\": [\n\t\t128,\n\t\t48\n\t],\n\t\"./ion-spinner.entry.js\": [\n\t\t129,\n\t\t13\n\t],\n\t\"./ion-split-pane.entry.js\": [\n\t\t130,\n\t\t49\n\t],\n\t\"./ion-tab-bar_2.entry.js\": [\n\t\t131,\n\t\t36\n\t],\n\t\"./ion-tab_2.entry.js\": [\n\t\t132,\n\t\t15\n\t],\n\t\"./ion-text.entry.js\": [\n\t\t133,\n\t\t37\n\t],\n\t\"./ion-textarea.entry.js\": [\n\t\t134,\n\t\t38\n\t],\n\t\"./ion-toast.entry.js\": [\n\t\t135,\n\t\t39\n\t],\n\t\"./ion-toggle.entry.js\": [\n\t\t136,\n\t\t12\n\t],\n\t\"./ion-virtual-scroll.entry.js\": [\n\t\t137,\n\t\t50\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 70;\nmodule.exports = webpackAsyncContext;\n\n/***/ }),\n\n/***/ 72:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar map = {\n\t\"./ion-icon.entry.js\": [\n\t\t138,\n\t\t57\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 72;\nmodule.exports = webpackAsyncContext;\n\n/***/ }),\n\n/***/ 90:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 91:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/@capacitor/core/dist/esm/index.js + 21 modules\nvar esm = __webpack_require__(62);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(34);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/@ionic/react/dist/index.esm.js\nvar index_esm = __webpack_require__(4);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js + 1 modules\nvar react_router = __webpack_require__(24);\n\n// EXTERNAL MODULE: ./node_modules/@ionic/react-router/dist/index.esm.js\nvar dist_index_esm = __webpack_require__(57);\n\n// EXTERNAL MODULE: ./node_modules/ionicons/icons/index.mjs\nvar icons = __webpack_require__(19);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(18);\n\n// EXTERNAL MODULE: ./node_modules/firebase/app/dist/index.esm.js\nvar app_dist_index_esm = __webpack_require__(60);\n\n// EXTERNAL MODULE: ./node_modules/firebase/auth/dist/index.esm.js\nvar auth_dist_index_esm = __webpack_require__(77);\n\n// EXTERNAL MODULE: ./node_modules/firebase/firestore/dist/index.esm.js + 1 modules\nvar firestore_dist_index_esm = __webpack_require__(93);\n\n// EXTERNAL MODULE: ./node_modules/firebase/storage/dist/index.esm.js + 2 modules\nvar storage_dist_index_esm = __webpack_require__(92);\n\n// CONCATENATED MODULE: ./src/firebase.ts\nvar firebaseConfig={apiKey:\"AIzaSyA-rtvXR1IMYsW94eaZIMJ0FtYCMV0_3r4\",authDomain:\"daily-moments-95ee2.firebaseapp.com\",databaseURL:\"https://daily-moments95ee2.appspot.com\",projectId:\"daily-moments-95ee2\",storageBucket:\"daily-moments-95ee2.appspot.com\",messagingSenderId:\"755031950734\",appId:\"1:755031950734:web:fd08aac50b4527fa2550df\",measurementId:\"G-5FKPP6KYMF\"};var app=app_dist_index_esm[\"a\" /* default */].initializeApp(firebaseConfig);var firebase_auth=app.auth();var firestore=app.firestore();var store=app.storage();\n// CONCATENATED MODULE: ./src/auth.ts\n// most components will use this,\n// if user is logged in and what is the userId\nvar AuthContext=/*#__PURE__*/react_default.a.createContext({loggedIn:false});function useAuth(){return Object(react[\"useContext\"])(AuthContext);}function useAuthInit(){var _useState=Object(react[\"useState\"])({loading:true}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),authInit=_useState2[0],setAuthInit=_useState2[1];Object(react[\"useEffect\"])(function(){return firebase_auth.onAuthStateChanged(function(firebaseUser){// setAuthInit({loading: false, auth: {loggedIn: Boolean(user)}});\nvar auth=firebaseUser?{loggedIn:true,userId:firebaseUser.uid}:{loggedIn:false};setAuthInit({loading:false,auth:auth});});},[]);// const [authState, setAuthInit] = useState<AuthInit>({loading: true});\n// useEffect(() => {\n//   return firebaseAuth.onAuthStateChanged((firebaseUser) => {\n//         const auth = firebaseUser ?\n//             {loggedIn: true, userId: firebaseUser.uid } :\n//             {loggedIn: false};\n//         setAuthInit({loading: false, auth});\n//   });\n// }, []);\nreturn authInit;}// export function useAuthInit(): AuthInit {\n//   const [authInit, setAuthInit] = useState<AuthInit>({ loading: true, loggedIn: false });\n//     useEffect(() => {\n//       firebaseAuth.onAuthStateChanged((user) => {\n//           setAuthInit({loading: false, loggedIn: Boolean(user)});\n//         });\n//       },[]);\n//   return authInit;\n// }\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(61);\n\n// CONCATENATED MODULE: ./src/models.ts\nfunction toEntry(doc){return Object(objectSpread2[\"a\" /* default */])({id:doc.id},doc.data());}\n// CONCATENATED MODULE: ./src/date.ts\nfunction formatDate(isoString){return new Date(isoString).toLocaleDateString('en-US',{day:'numeric',month:'short',year:'numeric'});}\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(2);\n\n// CONCATENATED MODULE: ./src/pages/HomePage.tsx\nvar HomePage_HomePage=function HomePage(){var _useAuth=useAuth(),userId=_useAuth.userId;var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),entries=_useState2[0],setEntries=_useState2[1];// const entryRef = firestore.collection('entries').doc(id);\n// entryRef.get().then((doc) => setEntry(toEntry(entry)));\nObject(react[\"useEffect\"])(function(){var entriesRef=firestore.collection('users').doc(userId).collection('entries');return entriesRef.orderBy('date','desc').limit(7).onSnapshot(function(_ref){var docs=_ref.docs;return setEntries(docs.map(toEntry));});//  entriesRef.get().then(({docs}) => setEntries(docs.map(toEntry)))\n},[userId]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(index_esm[\"q\" /* IonPage */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"i\" /* IonHeader */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"A\" /* IonToolbar */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"z\" /* IonTitle */],{children:\"Homepage\"})})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(index_esm[\"e\" /* IonContent */],{className:\"ion-padding\",children:[entries.map(function(entry){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(index_esm[\"m\" /* IonItem */],{button:true,routerLink:\"/my/entries/view/\".concat(entry.id),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"y\" /* IonThumbnail */],{slot:\"end\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"k\" /* IonImg */],{src:entry===null||entry===void 0?void 0:entry.pictureUrl})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(index_esm[\"n\" /* IonLabel */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:formatDate(entry.date)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:entry.title})]})]},entry.id);}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"g\" /* IonFab */],{vertical:\"bottom\",horizontal:\"end\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"h\" /* IonFabButton */],{routerLink:\"/my/entries/add\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"j\" /* IonIcon */],{icon:icons[\"a\" /* add */]})})})]})]});};/* harmony default export */ var pages_HomePage = (HomePage_HomePage);\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(9);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(17);\n\n// CONCATENATED MODULE: ./src/pages/EntryPage.tsx\n// import { download } from 'ionicons/icons';\nvar EntryPage_EntryPage=function EntryPage(){var match=Object(react_router[\"g\" /* useRouteMatch */])();var id=match.params.id;var _useAuth=useAuth(),userId=_useAuth.userId;var _useState=Object(react[\"useState\"])(),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),entry=_useState2[0],setEntry=_useState2[1];var history=Object(react_router[\"f\" /* useHistory */])();Object(react[\"useEffect\"])(function(){var entryRef=firestore.collection('users').doc(userId).collection('entries').doc(id);entryRef.get().then(function(doc){setEntry(toEntry(doc));});// entryRef.get().then((doc) => setEntry(toEntry(doc)));\n// const entry = toEntry;\n// setEntry(entry);\n},[userId,id]);var handleDelete=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var entryRef;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:entryRef=firestore.collection('users').doc(userId).collection('entries').doc(id);_context.next=3;return entryRef.delete();case 3:history.goBack();case 4:case\"end\":return _context.stop();}}},_callee);}));return function handleDelete(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(index_esm[\"q\" /* IonPage */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"i\" /* IonHeader */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(index_esm[\"A\" /* IonToolbar */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"d\" /* IonButtons */],{slot:\"start\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"b\" /* IonBackButton */],{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"z\" /* IonTitle */],{children:formatDate(entry===null||entry===void 0?void 0:entry.date)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"d\" /* IonButtons */],{slot:\"end\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"c\" /* IonButton */],{onClick:handleDelete,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"j\" /* IonIcon */],{icon:icons[\"q\" /* trash */],slot:\"icon-only\"})})})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(index_esm[\"e\" /* IonContent */],{className:\"ion-padding\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:entry===null||entry===void 0?void 0:entry.title}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:entry===null||entry===void 0?void 0:entry.pictureUrl,alt:entry===null||entry===void 0?void 0:entry.title}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:entry===null||entry===void 0?void 0:entry.description})]})]});};/* harmony default export */ var pages_EntryPage = (EntryPage_EntryPage);\n// CONCATENATED MODULE: ./src/pages/SettingsPage.tsx\nvar SettingsPage_SettingsPage=function SettingsPage(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(index_esm[\"q\" /* IonPage */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"i\" /* IonHeader */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"A\" /* IonToolbar */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"z\" /* IonTitle */],{children:\"Settings\"})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"e\" /* IonContent */],{className:\"ion-padding\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"c\" /* IonButton */],{expand:\"block\",onClick:function onClick(){return firebase_auth.signOut();},children:\"Logout\"})})]});};/* harmony default export */ var pages_SettingsPage = (SettingsPage_SettingsPage);\n// CONCATENATED MODULE: ./src/pages/AddEntryPage.tsx\nconsole.log(Object(index_esm[\"K\" /* isPlatform */])('ios'));// returns true when running on a iOS device\nconsole.log(Object(index_esm[\"J\" /* getPlatforms */])());// returns [\"iphone\", \"ios\", \"mobile\", \"mobileweb\"] from an iPhone\nvar AddEntryPage_AddEntryPage=function AddEntryPage(){var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),date=_useState2[0],setDate=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),title=_useState4[0],setTitle=_useState4[1];var _useState5=Object(react[\"useState\"])(''),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),description=_useState6[0],setDescription=_useState6[1];var _useAuth=useAuth(),userId=_useAuth.userId;var _useState7=Object(react[\"useState\"])('/assets/placeholder.png'),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),pictureUrl=_useState8[0],setPictureUrl=_useState8[1];var fileInputRef=Object(react[\"useRef\"])();// const history = useHistory();\nfunction savePicture(_x,_x2){return _savePicture.apply(this,arguments);}function _savePicture(){_savePicture=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(blobUrl,userId){var pictureRef,response,blob,snapshot,url;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:pictureRef=store.ref(\"/users/\".concat(userId,\"/pictures/\").concat(Date.now()));_context2.next=3;return fetch(blobUrl);case 3:response=_context2.sent;_context2.next=6;return response.blob();case 6:blob=_context2.sent;_context2.next=9;return pictureRef.put(blob);case 9:snapshot=_context2.sent;_context2.next=12;return snapshot.ref.getDownloadURL();case 12:url=_context2.sent;return _context2.abrupt(\"return\",url);case 14:case\"end\":return _context2.stop();}}},_callee2);}));return _savePicture.apply(this,arguments);}Object(react[\"useEffect\"])(function(){return function(){if(pictureUrl.startsWith('blob')){URL.revokeObjectURL(pictureUrl);console.log('Revoked',pictureUrl);}};},[pictureUrl]);var handleFileChange=function handleFileChange(event){console.log('Files:',event.target.files);if(event.target.files.length>0){var file=event.target.files.item(0);// get the file\nvar _pictureUrl=URL.createObjectURL(file);// URL object extracted from the file\n// console.log('created: ', pictureUrl);\nsetPictureUrl(_pictureUrl);}};var handleSave=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var entriesRef,entryData,entryRef;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:entriesRef=firestore.collection(\"users\").doc(userId).collection(\"entries\");entryData={date:date,title:title,pictureUrl:pictureUrl,description:description};if(!pictureUrl.startsWith('blob')){_context.next=6;break;}_context.next=5;return savePicture(pictureUrl,userId);case 5:entryData.pictureUrl=_context.sent;case 6:_context.next=8;return entriesRef.add(entryData);case 8:entryRef=_context.sent;console.log('saved',entryRef.id);// history.goBack();\ncase 10:case\"end\":return _context.stop();}}},_callee);}));return function handleSave(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(index_esm[\"q\" /* IonPage */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"i\" /* IonHeader */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(index_esm[\"A\" /* IonToolbar */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"d\" /* IonButtons */],{slot:\"start\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"b\" /* IonBackButton */],{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"z\" /* IonTitle */],{children:\" Add Entry \"})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(index_esm[\"e\" /* IonContent */],{className:\"ion-padding\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(index_esm[\"o\" /* IonList */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(index_esm[\"m\" /* IonItem */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"n\" /* IonLabel */],{position:\"floating\",children:\"Date \"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"f\" /* IonDatetime */],{value:date,onIonChange:function onIonChange(e){return setDate(e.detail.value);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(index_esm[\"m\" /* IonItem */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"n\" /* IonLabel */],{position:\"floating\",children:\"Title \"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"l\" /* IonInput */],{type:\"text\",value:title,onIonChange:function onIonChange(e){return setTitle(e.detail.value);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(index_esm[\"m\" /* IonItem */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"n\" /* IonLabel */],{position:\"floating\",children:\"Picture\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"file\",accept:\"image/*\",hidden:true,ref:fileInputRef,onChange:handleFileChange}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:pictureUrl,alt:\"\",style:{cursor:'pointer'},onClick:function onClick(){return fileInputRef.current.click();}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(index_esm[\"m\" /* IonItem */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"n\" /* IonLabel */],{position:\"floating\",children:\"Description \"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"x\" /* IonTextarea */],{value:description,onIonChange:function onIonChange(e){return setDescription(e.detail.value);}})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"c\" /* IonButton */],{expand:\"block\",type:\"submit\",onClick:handleSave,routerLink:\"/my/entries\",children:\" Submit \"})]})]});};/* harmony default export */ var pages_AddEntryPage = (AddEntryPage_AddEntryPage);\n// CONCATENATED MODULE: ./src/AppTabs.tsx\nvar AppTabs_AppTabs=function AppTabs(){var _useAuth=useAuth(),loggedIn=_useAuth.loggedIn;if(!loggedIn){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{to:\"/login\"});}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(index_esm[\"v\" /* IonTabs */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(index_esm[\"s\" /* IonRouterOutlet */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{exact:true,path:\"/my/entries\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_HomePage,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{exact:true,path:\"/my/entries/view/:id\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_EntryPage,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{exact:true,path:\"/my/settings\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_SettingsPage,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{exact:true,path:\"/my/entries/add\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_AddEntryPage,{})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(index_esm[\"t\" /* IonTabBar */],{slot:\"bottom\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(index_esm[\"u\" /* IonTabButton */],{tab:\"home\",href:\"/my/entries\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"j\" /* IonIcon */],{icon:icons[\"i\" /* home */]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"n\" /* IonLabel */],{children:\"Home\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(index_esm[\"u\" /* IonTabButton */],{tab:\"settings\",href:\"/my/settings\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"j\" /* IonIcon */],{icon:icons[\"p\" /* settings */]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"n\" /* IonLabel */],{children:\"Settings\"})]})]})]});};/* harmony default export */ var src_AppTabs = (AppTabs_AppTabs);\n// CONCATENATED MODULE: ./src/pages/LoginPage.tsx\n// interface Props {\n//   onLogin: () => void;\n// }\n// const LoginPage: React.FC<Props> = ({ onLogin }) => {\nvar LoginPage_LoginPage=function LoginPage(){// const { loggedIn } = useContext(AuthContext);\nvar _useAuth=useAuth(),loggedIn=_useAuth.loggedIn;var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=Object(react[\"useState\"])({loading:false,error:false}),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),status=_useState6[0],setStatus=_useState6[1];var handleLogin=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var credential;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;setStatus({loading:true,error:false});_context.next=4;return firebase_auth.signInWithEmailAndPassword(email,password);case 4:credential=_context.sent;// setStatus({loading:false, error:false});\nconsole.log('credential:',credential);// onLogin();\n_context.next=12;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);setStatus({loading:false,error:true});console.log('error: ',_context.t0);case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function handleLogin(){return _ref.apply(this,arguments);};}();console.log(\"Login Status: \".concat(loggedIn));if(loggedIn){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{to:\"/my/entries\"});}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(index_esm[\"q\" /* IonPage */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"i\" /* IonHeader */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"A\" /* IonToolbar */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"z\" /* IonTitle */],{children:\"Login Page\"})})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(index_esm[\"e\" /* IonContent */],{className:\"ion-padding\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(index_esm[\"o\" /* IonList */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(index_esm[\"m\" /* IonItem */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"n\" /* IonLabel */],{position:\"floating\",children:\"Email\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"l\" /* IonInput */],{type:\"email\",value:email,onIonChange:function onIonChange(event){return setEmail(event.detail.value);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(index_esm[\"m\" /* IonItem */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"n\" /* IonLabel */],{position:\"floating\",children:\"Password\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"l\" /* IonInput */],{type:\"password\",value:password,onIonChange:function onIonChange(event){return setPassword(event.detail.value);}})]})]}),status.error&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"w\" /* IonText */],{color:\"danger\",children:\"Invalid Credentials\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"c\" /* IonButton */],{expand:\"block\",onClick:handleLogin,children:\"Login\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"c\" /* IonButton */],{expand:\"block\",fill:\"clear\",routerLink:\"/register\",children:\"Don't Have an Account?\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"p\" /* IonLoading */],{isOpen:status.loading})]})]});};/* harmony default export */ var pages_LoginPage = (LoginPage_LoginPage);\n// CONCATENATED MODULE: ./src/pages/NotFoundPage.tsx\nvar NotFoundPage_NotFoundPage=function NotFoundPage(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"q\" /* IonPage */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"e\" /* IonContent */],{className:\"ion-padding\",children:\"Page Not Found.\"})});};/* harmony default export */ var pages_NotFoundPage = (NotFoundPage_NotFoundPage);\n// CONCATENATED MODULE: ./src/pages/RegisterPage.tsx\nvar RegisterPage_RegisterPage=function RegisterPage(){var _useAuth=useAuth(),loggedIn=_useAuth.loggedIn;var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=Object(react[\"useState\"])({loading:false,error:false}),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),status=_useState6[0],setStatus=_useState6[1];var handleRegister=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var credential;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;setStatus({loading:true,error:false});_context.next=4;return firebase_auth.createUserWithEmailAndPassword(email,password);case 4:credential=_context.sent;console.log('credential:',credential);_context.next=12;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);setStatus({loading:false,error:true});console.log('error: ',_context.t0);case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function handleRegister(){return _ref.apply(this,arguments);};}();console.log(\"Login Status: \".concat(loggedIn));if(loggedIn){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{to:\"/my/entries\"});}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(index_esm[\"q\" /* IonPage */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"i\" /* IonHeader */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"A\" /* IonToolbar */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"z\" /* IonTitle */],{children:\"Register Page\"})})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(index_esm[\"e\" /* IonContent */],{className:\"ion-padding\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(index_esm[\"o\" /* IonList */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(index_esm[\"m\" /* IonItem */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"n\" /* IonLabel */],{position:\"floating\",children:\"Email\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"l\" /* IonInput */],{type:\"email\",value:email,onIonChange:function onIonChange(event){return setEmail(event.detail.value);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(index_esm[\"m\" /* IonItem */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"n\" /* IonLabel */],{position:\"floating\",children:\"Password\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"l\" /* IonInput */],{type:\"password\",value:password,onIonChange:function onIonChange(event){return setPassword(event.detail.value);}})]})]}),status.error&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"w\" /* IonText */],{color:\"danger\",children:\"Registration Failed!\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"c\" /* IonButton */],{expand:\"block\",onClick:handleRegister,children:\"Register\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"c\" /* IonButton */],{expand:\"block\",fill:\"clear\",routerLink:\"/login\",children:\"Already Have an Account?\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"p\" /* IonLoading */],{isOpen:status.loading})]})]});};/* harmony default export */ var pages_RegisterPage = (RegisterPage_RegisterPage);\n// CONCATENATED MODULE: ./src/App.tsx\n// import { auth } from './firebase';\nvar App_App=function App(){var _useAuthInit=useAuthInit(),loading=_useAuthInit.loading,auth=_useAuthInit.auth;// const authState = useAuthInit();\n// const authState = useAuthInit();\n// const [loggedIn, setLoggedIn] = useState(false);\n// const { loading, auth } = useAuthInit();\nif(loading){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"p\" /* IonLoading */],{isOpen:true});}console.log(\"rendering App with authState=\",auth);//   if(authState.loading) {\n//     return <IonLoading isOpen />;\n//   }\nreturn/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"a\" /* IonApp */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AuthContext.Provider,{value:auth,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist_index_esm[\"a\" /* IonReactRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"d\" /* Switch */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{exact:true,path:\"/login\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_LoginPage,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{exact:true,path:\"/register\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_RegisterPage,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{path:\"/my\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_AppTabs,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{exact:true,path:\"/\",to:\"/login\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_NotFoundPage,{})})]})})})});};/* harmony default export */ var src_App = (App_App);\n// CONCATENATED MODULE: ./src/serviceWorker.ts\n// This optional code is used to register a service worker.\n// register() is not called by default.\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\nvar isLocalhost=Boolean(window.location.hostname==='localhost'||// [::1] is the IPv6 localhost address.\nwindow.location.hostname==='[::1]'||// 127.0.0.0/8 are considered localhost for IPv4.\nwindow.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function register(config){if( true&&'serviceWorker'in navigator){// The URL constructor is available in all browsers that support SW.\nvar publicUrl=new URL(\"\",window.location.href);if(publicUrl.origin!==window.location.origin){// Our service worker won't work if PUBLIC_URL is on a different origin\n// from what our page is served on. This might happen if a CDN is used to\n// serve assets; see https://github.com/facebook/create-react-app/issues/2374\nreturn;}window.addEventListener('load',function(){var swUrl=\"\".concat(\"\",\"/service-worker.js\");if(isLocalhost){// This is running on localhost. Let's check if a service worker still exists or not.\ncheckValidServiceWorker(swUrl,config);// Add some additional logging to localhost, pointing developers to the\n// service worker/PWA documentation.\nnavigator.serviceWorker.ready.then(function(){console.log('This web app is being served cache-first by a service '+'worker. To learn more, visit https://bit.ly/CRA-PWA');});}else{// Is not localhost. Just register service worker\nregisterValidSW(swUrl,config);}});}}function registerValidSW(swUrl,config){navigator.serviceWorker.register(swUrl).then(function(registration){registration.onupdatefound=function(){var installingWorker=registration.installing;if(installingWorker==null){return;}installingWorker.onstatechange=function(){if(installingWorker.state==='installed'){if(navigator.serviceWorker.controller){// At this point, the updated precached content has been fetched,\n// but the previous service worker will still serve the older\n// content until all client tabs are closed.\nconsole.log('New content is available and will be used when all '+'tabs for this page are closed. See https://bit.ly/CRA-PWA.');// Execute callback\nif(config&&config.onUpdate){config.onUpdate(registration);}}else{// At this point, everything has been precached.\n// It's the perfect time to display a\n// \"Content is cached for offline use.\" message.\nconsole.log('Content is cached for offline use.');// Execute callback\nif(config&&config.onSuccess){config.onSuccess(registration);}}}};};}).catch(function(error){console.error('Error during service worker registration:',error);});}function checkValidServiceWorker(swUrl,config){// Check if the service worker can be found. If it can't reload the page.\nfetch(swUrl,{headers:{'Service-Worker':'script'}}).then(function(response){// Ensure service worker exists, and that we really are getting a JS file.\nvar contentType=response.headers.get('content-type');if(response.status===404||contentType!=null&&contentType.indexOf('javascript')===-1){// No service worker found. Probably a different app. Reload the page.\nnavigator.serviceWorker.ready.then(function(registration){registration.unregister().then(function(){window.location.reload();});});}else{// Service worker found. Proceed as normal.\nregisterValidSW(swUrl,config);}}).catch(function(){console.log('No internet connection found. App is running in offline mode.');});}function unregister(){if('serviceWorker'in navigator){navigator.serviceWorker.ready.then(function(registration){registration.unregister();});}}\n// EXTERNAL MODULE: ./node_modules/@ionic/react/css/core.css\nvar core = __webpack_require__(80);\n\n// EXTERNAL MODULE: ./node_modules/@ionic/react/css/normalize.css\nvar normalize = __webpack_require__(81);\n\n// EXTERNAL MODULE: ./node_modules/@ionic/react/css/structure.css\nvar structure = __webpack_require__(82);\n\n// EXTERNAL MODULE: ./node_modules/@ionic/react/css/typography.css\nvar typography = __webpack_require__(83);\n\n// EXTERNAL MODULE: ./node_modules/@ionic/react/css/padding.css\nvar padding = __webpack_require__(84);\n\n// EXTERNAL MODULE: ./node_modules/@ionic/react/css/float-elements.css\nvar float_elements = __webpack_require__(85);\n\n// EXTERNAL MODULE: ./node_modules/@ionic/react/css/text-alignment.css\nvar text_alignment = __webpack_require__(86);\n\n// EXTERNAL MODULE: ./node_modules/@ionic/react/css/text-transformation.css\nvar text_transformation = __webpack_require__(87);\n\n// EXTERNAL MODULE: ./node_modules/@ionic/react/css/flex-utils.css\nvar flex_utils = __webpack_require__(88);\n\n// EXTERNAL MODULE: ./node_modules/@ionic/react/css/display.css\nvar display = __webpack_require__(89);\n\n// EXTERNAL MODULE: ./src/theme/variables.css\nvar variables = __webpack_require__(90);\n\n// CONCATENATED MODULE: ./src/index.tsx\n/* Core CSS required for Ionic components to work properly *//* Basic CSS for apps built with Ionic *//* Optional CSS utils that can be commented out *//* Theme variables */var SplashScreen=esm[\"a\" /* Plugins */].SplashScreen;react_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{}),document.getElementById('root'));SplashScreen.hide();// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nunregister();\n\n/***/ })\n\n},[[91,3,4]]]);","inputSourceMap":{"version":3,"sources":["/Users/toy/Documents/APIU University Work/3rd Year/Mobile Dev/code/ionicproject1/DailyMoments/node_modules/@ionic/core/dist/esm-es5 lazy /^\\.\\/.*\\.entry\\.js$/ groupOptions: {} namespace object","/Users/toy/Documents/APIU University Work/3rd Year/Mobile Dev/code/ionicproject1/DailyMoments/node_modules/ionicons/dist/esm-es5 lazy /^\\.\\/.*\\.entry\\.js$/ groupOptions: {} namespace object","/Users/toy/Documents/APIU University Work/3rd Year/Mobile Dev/code/ionicproject1/DailyMoments/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/toy/Documents/APIU University Work/3rd Year/Mobile Dev/code/ionicproject1/DailyMoments/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/toy/Documents/APIU University Work/3rd Year/Mobile Dev/code/ionicproject1/DailyMoments/node_modules/postcss-loader/src/index.js??postcss!/Users/toy/Documents/APIU University Work/3rd Year/Mobile Dev/code/ionicproject1/DailyMoments/src/theme/variables.css","/Users/toy/Documents/APIU University Work/3rd Year/Mobile Dev/code/ionicproject1/DailyMoments/src/firebase.ts","/Users/toy/Documents/APIU University Work/3rd Year/Mobile Dev/code/ionicproject1/DailyMoments/src/auth.ts","/Users/toy/Documents/APIU University Work/3rd Year/Mobile Dev/code/ionicproject1/DailyMoments/src/models.ts","/Users/toy/Documents/APIU University Work/3rd Year/Mobile Dev/code/ionicproject1/DailyMoments/src/date.ts","/Users/toy/Documents/APIU University Work/3rd Year/Mobile Dev/code/ionicproject1/DailyMoments/src/pages/HomePage.tsx","/Users/toy/Documents/APIU University Work/3rd Year/Mobile Dev/code/ionicproject1/DailyMoments/src/pages/EntryPage.tsx","/Users/toy/Documents/APIU University Work/3rd Year/Mobile Dev/code/ionicproject1/DailyMoments/src/pages/SettingsPage.tsx","/Users/toy/Documents/APIU University Work/3rd Year/Mobile Dev/code/ionicproject1/DailyMoments/src/pages/AddEntryPage.tsx","/Users/toy/Documents/APIU University Work/3rd Year/Mobile Dev/code/ionicproject1/DailyMoments/src/AppTabs.tsx","/Users/toy/Documents/APIU University Work/3rd Year/Mobile Dev/code/ionicproject1/DailyMoments/src/pages/LoginPage.tsx","/Users/toy/Documents/APIU University Work/3rd Year/Mobile Dev/code/ionicproject1/DailyMoments/src/pages/NotFoundPage.tsx","/Users/toy/Documents/APIU University Work/3rd Year/Mobile Dev/code/ionicproject1/DailyMoments/src/pages/RegisterPage.tsx","/Users/toy/Documents/APIU University Work/3rd Year/Mobile Dev/code/ionicproject1/DailyMoments/src/App.tsx","/Users/toy/Documents/APIU University Work/3rd Year/Mobile Dev/code/ionicproject1/DailyMoments/src/serviceWorker.ts","/Users/toy/Documents/APIU University Work/3rd Year/Mobile Dev/code/ionicproject1/DailyMoments/src/index.tsx"],"names":["firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","app","firebase","initializeApp","auth","firestore","store","storage","AuthContext","React","createContext","loggedIn","useAuth","useContext","useAuthInit","useState","loading","authInit","setAuthInit","useEffect","firebaseAuth","onAuthStateChanged","firebaseUser","userId","uid","toEntry","doc","id","data","formatDate","isoString","Date","toLocaleDateString","day","month","year","HomePage","entries","setEntries","entriesRef","collection","orderBy","limit","onSnapshot","docs","map","entry","pictureUrl","date","title","addIcon","EntryPage","match","useRouteMatch","params","setEntry","history","useHistory","entryRef","get","then","handleDelete","delete","goBack","trashIcon","description","SettingsPage","signOut","console","log","isPlatform","getPlatforms","AddEntryPage","setDate","setTitle","setDescription","setPictureUrl","fileInputRef","useRef","savePicture","blobUrl","pictureRef","ref","now","fetch","response","blob","put","snapshot","getDownloadURL","url","startsWith","URL","revokeObjectURL","handleFileChange","event","target","files","length","file","item","createObjectURL","handleSave","entryData","add","e","detail","value","cursor","current","click","AppTabs","homeIcon","settingsIcon","LoginPage","email","setEmail","password","setPassword","error","status","setStatus","handleLogin","signInWithEmailAndPassword","credential","NotFoundPage","RegisterPage","handleRegister","createUserWithEmailAndPassword","App","isLocalhost","Boolean","window","location","hostname","register","config","process","navigator","publicUrl","href","origin","addEventListener","swUrl","checkValidServiceWorker","serviceWorker","ready","registerValidSW","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","onSuccess","catch","headers","contentType","indexOf","unregister","reload","SplashScreen","Plugins","ReactDOM","render","document","getElementById","hide"],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,qC;;;;;;;AChMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,qC;;;;;;;ACxBA,uC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACKO,GAAMA,eAAc,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","file":"x","sourcesContent":["var map = {\n\t\"./ion-action-sheet.entry.js\": [\n\t\t95,\n\t\t5\n\t],\n\t\"./ion-alert.entry.js\": [\n\t\t96,\n\t\t6\n\t],\n\t\"./ion-app_8.entry.js\": [\n\t\t97,\n\t\t7\n\t],\n\t\"./ion-avatar_3.entry.js\": [\n\t\t98,\n\t\t17\n\t],\n\t\"./ion-back-button.entry.js\": [\n\t\t99,\n\t\t18\n\t],\n\t\"./ion-backdrop.entry.js\": [\n\t\t100,\n\t\t43\n\t],\n\t\"./ion-button_2.entry.js\": [\n\t\t101,\n\t\t19\n\t],\n\t\"./ion-card_5.entry.js\": [\n\t\t102,\n\t\t20\n\t],\n\t\"./ion-checkbox.entry.js\": [\n\t\t103,\n\t\t21\n\t],\n\t\"./ion-chip.entry.js\": [\n\t\t104,\n\t\t22\n\t],\n\t\"./ion-col_3.entry.js\": [\n\t\t105,\n\t\t44\n\t],\n\t\"./ion-datetime_3.entry.js\": [\n\t\t106,\n\t\t10\n\t],\n\t\"./ion-fab_3.entry.js\": [\n\t\t107,\n\t\t23\n\t],\n\t\"./ion-img.entry.js\": [\n\t\t108,\n\t\t45\n\t],\n\t\"./ion-infinite-scroll_2.entry.js\": [\n\t\t109,\n\t\t46\n\t],\n\t\"./ion-input.entry.js\": [\n\t\t110,\n\t\t24\n\t],\n\t\"./ion-item-option_3.entry.js\": [\n\t\t111,\n\t\t25\n\t],\n\t\"./ion-item_8.entry.js\": [\n\t\t112,\n\t\t26\n\t],\n\t\"./ion-loading.entry.js\": [\n\t\t113,\n\t\t27\n\t],\n\t\"./ion-menu_3.entry.js\": [\n\t\t114,\n\t\t28\n\t],\n\t\"./ion-modal.entry.js\": [\n\t\t115,\n\t\t8\n\t],\n\t\"./ion-nav_2.entry.js\": [\n\t\t116,\n\t\t14\n\t],\n\t\"./ion-popover.entry.js\": [\n\t\t117,\n\t\t9\n\t],\n\t\"./ion-progress-bar.entry.js\": [\n\t\t118,\n\t\t29\n\t],\n\t\"./ion-radio_2.entry.js\": [\n\t\t119,\n\t\t30\n\t],\n\t\"./ion-range.entry.js\": [\n\t\t120,\n\t\t31\n\t],\n\t\"./ion-refresher_2.entry.js\": [\n\t\t121,\n\t\t11\n\t],\n\t\"./ion-reorder_2.entry.js\": [\n\t\t122,\n\t\t16\n\t],\n\t\"./ion-ripple-effect.entry.js\": [\n\t\t123,\n\t\t47\n\t],\n\t\"./ion-route_4.entry.js\": [\n\t\t124,\n\t\t32\n\t],\n\t\"./ion-searchbar.entry.js\": [\n\t\t125,\n\t\t33\n\t],\n\t\"./ion-segment_2.entry.js\": [\n\t\t126,\n\t\t34\n\t],\n\t\"./ion-select_3.entry.js\": [\n\t\t127,\n\t\t35\n\t],\n\t\"./ion-slide_2.entry.js\": [\n\t\t128,\n\t\t48\n\t],\n\t\"./ion-spinner.entry.js\": [\n\t\t129,\n\t\t13\n\t],\n\t\"./ion-split-pane.entry.js\": [\n\t\t130,\n\t\t49\n\t],\n\t\"./ion-tab-bar_2.entry.js\": [\n\t\t131,\n\t\t36\n\t],\n\t\"./ion-tab_2.entry.js\": [\n\t\t132,\n\t\t15\n\t],\n\t\"./ion-text.entry.js\": [\n\t\t133,\n\t\t37\n\t],\n\t\"./ion-textarea.entry.js\": [\n\t\t134,\n\t\t38\n\t],\n\t\"./ion-toast.entry.js\": [\n\t\t135,\n\t\t39\n\t],\n\t\"./ion-toggle.entry.js\": [\n\t\t136,\n\t\t12\n\t],\n\t\"./ion-virtual-scroll.entry.js\": [\n\t\t137,\n\t\t50\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 70;\nmodule.exports = webpackAsyncContext;","var map = {\n\t\"./ion-icon.entry.js\": [\n\t\t138,\n\t\t57\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 72;\nmodule.exports = webpackAsyncContext;","// extracted by mini-css-extract-plugin","import firebase from \"firebase/app\";\r\nimport 'firebase/auth';\r\nimport 'firebase/firestore';\r\nimport 'firebase/storage';\r\n\r\nexport const firebaseConfig = {\r\n  apiKey: \"AIzaSyA-rtvXR1IMYsW94eaZIMJ0FtYCMV0_3r4\",\r\n  authDomain: \"daily-moments-95ee2.firebaseapp.com\",\r\n  databaseURL:\"https://daily-moments95ee2.appspot.com\",\r\n  projectId: \"daily-moments-95ee2\",\r\n  storageBucket: \"daily-moments-95ee2.appspot.com\",\r\n  messagingSenderId: \"755031950734\",\r\n  appId: \"1:755031950734:web:fd08aac50b4527fa2550df\",\r\n  measurementId: \"G-5FKPP6KYMF\"\r\n  };\r\n\r\nconst app = firebase.initializeApp(firebaseConfig);\r\n\r\nexport const auth = app.auth();\r\nexport const firestore = app.firestore();\r\nexport const store = app.storage();","import React, { useContext, useEffect, useState } from 'react';\r\nimport { auth as firebaseAuth } from './firebase'; \r\n\r\n// most components will use this,\r\n// if user is logged in and what is the userId\r\ninterface Auth {\r\n  loggedIn: boolean;\r\n  userId?: string; // ? is optional\r\n}\r\n\r\n// Only used by App to initialize the firebase authentication\r\ninterface AuthInit {\r\n  loading: boolean;\r\n  auth?: Auth;\r\n}\r\n\r\nexport const AuthContext = React.createContext<Auth>({loggedIn:false});\r\n\r\nexport function useAuth(): Auth {\r\n    return useContext(AuthContext);\r\n}\r\n\r\nexport function useAuthInit(): AuthInit {\r\n  const [authInit, setAuthInit] = useState<AuthInit>({loading: true});\r\n  useEffect(() => {\r\n    return firebaseAuth.onAuthStateChanged((firebaseUser) => {\r\n        // setAuthInit({loading: false, auth: {loggedIn: Boolean(user)}});\r\n        const auth = firebaseUser ?\r\n          { loggedIn:  true, userId: firebaseUser.uid} :\r\n          { loggedIn: false };\r\n        setAuthInit({ loading: false, auth});\r\n      });\r\n    },[]);\r\n\r\n  // const [authState, setAuthInit] = useState<AuthInit>({loading: true});\r\n  // useEffect(() => {\r\n  //   return firebaseAuth.onAuthStateChanged((firebaseUser) => {\r\n  //         const auth = firebaseUser ?\r\n  //             {loggedIn: true, userId: firebaseUser.uid } :\r\n  //             {loggedIn: false};\r\n  //         setAuthInit({loading: false, auth});\r\n  //   });\r\n  // }, []);\r\n  return authInit;\r\n}\r\n\r\n// export function useAuthInit(): AuthInit {\r\n//   const [authInit, setAuthInit] = useState<AuthInit>({ loading: true, loggedIn: false });\r\n//     useEffect(() => {\r\n//       firebaseAuth.onAuthStateChanged((user) => {\r\n//           setAuthInit({loading: false, loggedIn: Boolean(user)});\r\n//         });\r\n//       },[]);\r\n//   return authInit;\r\n// }\r\n\r\n","export interface Entry {\n    id: string;\n    date: string;\n    title: string;\n    pictureUrl: string;\n    description: string;\n}\n\nexport function toEntry(doc): Entry {\n    return { id: doc.id, ...doc.data() }\n}\n\n","export function formatDate(isoString) {\n    return new Date(isoString).toLocaleDateString('en-US', { \n      day: 'numeric', month: 'short', year: 'numeric'\n    });\n  }","import {\n  IonContent,\n  IonFab,\n  IonFabButton,\n  IonHeader,\n  IonIcon,\n  IonItem,\n  IonPage,\n  IonTitle,\n  IonToolbar,\n  IonLabel,\n  IonThumbnail,\n  IonImg,\n} from '@ionic/react';\nimport React, { useEffect, useState } from 'react';\nimport { useAuth } from '../auth';\nimport { firestore } from '../firebase';\nimport { Entry, toEntry } from '../models';\nimport { add as addIcon } from 'ionicons/icons';\nimport { formatDate } from '../date';\n\nconst HomePage: React.FC = () => {\n  const { userId } = useAuth();\n  const [ entries, setEntries ] = useState<Entry[]>([]);\n\n  // const entryRef = firestore.collection('entries').doc(id);\n  // entryRef.get().then((doc) => setEntry(toEntry(entry)));\n\n  useEffect(() => {\n      const entriesRef = firestore.collection('users').doc(userId)\n        .collection('entries');\n      return entriesRef.orderBy('date','desc').limit(7)\n        .onSnapshot(({docs}) => setEntries(docs.map(toEntry)))\n      //  entriesRef.get().then(({docs}) => setEntries(docs.map(toEntry)))\n  }, [userId]);\n\n  return (\n    <IonPage>\n      <IonHeader>\n        <IonToolbar>\n          <IonTitle>Homepage</IonTitle>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent className=\"ion-padding\">\n        {entries.map((entry) =>\n          <IonItem button key={entry.id}\n            routerLink={`/my/entries/view/${entry.id}`}>\n            <IonThumbnail slot=\"end\">\n              <IonImg src={entry?.pictureUrl}/>\n            </IonThumbnail>\n            <IonLabel>\n              <h1>{formatDate(entry.date)}</h1>\n              <h2>{entry.title}</h2>\n            </IonLabel>\n          </IonItem>\n        )}\n\n        <IonFab vertical=\"bottom\" horizontal=\"end\">\n            <IonFabButton routerLink=\"/my/entries/add\">\n              <IonIcon icon={addIcon} />\n            </IonFabButton>\n        </IonFab>\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default HomePage;\n\n\n\n","import {\n  IonContent,\n  IonHeader,\n  IonPage,\n  IonTitle,\n  IonToolbar,\n  IonBackButton,\n  IonButtons,\n  IonButton,\n  IonIcon,\n} from '@ionic/react';\n// import { download } from 'ionicons/icons';\nimport React, { useEffect, useState } from 'react';\nimport { useHistory, useRouteMatch } from 'react-router';\nimport { useAuth } from '../auth';\nimport { firestore } from '../firebase';\nimport { Entry, toEntry } from '../models';\nimport { trash as trashIcon } from 'ionicons/icons';\nimport { formatDate } from '../date';\n\ninterface RouteParams {\n  id: string;\n}\n\nconst EntryPage: React.FC = () => {\n  const match = useRouteMatch<RouteParams>();\n  const { id } = match.params;\n  const { userId } = useAuth();\n  const [entry, setEntry] = useState<Entry>();\n  const history = useHistory();\n  useEffect(() => {\n      const entryRef = firestore.collection('users').doc(userId)\n        .collection('entries').doc(id);\n      entryRef.get().then((doc) => { setEntry(toEntry(doc));\n      });\n      // entryRef.get().then((doc) => setEntry(toEntry(doc)));\n      // const entry = toEntry;\n        // setEntry(entry);\n  }, [userId, id]);\n\n  const handleDelete = async () => {\n    const entryRef = firestore.collection('users').doc(userId)\n    .collection('entries').doc(id);\n    await entryRef.delete();\n    history.goBack();\n  };\n\n  return (\n    <IonPage>\n      <IonHeader>\n        <IonToolbar>\n        <IonButtons slot=\"start\">\n          <IonBackButton/>\n        </IonButtons>\n          <IonTitle>\n            {formatDate(entry?.date)}\n          </IonTitle>\n        <IonButtons slot=\"end\">\n          <IonButton onClick={handleDelete}>\n            <IonIcon icon={trashIcon} slot='icon-only' />\n          </IonButton>\n        </IonButtons>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent className=\"ion-padding\">\n              <h2>{entry?.title}</h2>\n              <img src={entry?.pictureUrl} alt={entry?.title} />\n              <p>{entry?.description}</p>\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default EntryPage;\n\n","import {\n  IonButton,\n  IonContent,\n  IonHeader,\n  IonPage,\n  IonTitle,\n  IonToolbar,\n} from '@ionic/react';\nimport React from 'react';\nimport { auth } from '../firebase';\n\nconst SettingsPage: React.FC = () => {\n  return (\n    <IonPage>\n      <IonHeader>\n        <IonToolbar>\n          <IonTitle>Settings</IonTitle>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent className=\"ion-padding\">\n        <IonButton expand=\"block\"\n          onClick={() => auth.signOut()}>\n          Logout</IonButton>\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default SettingsPage;\n","import {\n  IonContent,\n  IonHeader,\n  IonPage,\n  IonTitle,\n  IonToolbar,\n  IonButtons,\n  IonBackButton,\n  IonInput,\n  IonButton,\n  IonList,\n  IonItem,\n  IonTextarea,\n  IonDatetime,\n  IonLabel\n} from '@ionic/react';\nimport { Plugins } from '@capacitor/core';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { useAuth } from '../auth';\nimport { firestore, store } from '../firebase';\nimport { isPlatform, getPlatforms  } from '@ionic/react';\n\nconsole.log(isPlatform('ios')); // returns true when running on a iOS device\nconsole.log(getPlatforms()); // returns [\"iphone\", \"ios\", \"mobile\", \"mobileweb\"] from an iPhone\n\nconst AddEntryPage: React.FC = () => {\n  const [date, setDate] = useState<string>('');\n  const [title, setTitle] = useState('');\n  const [description, setDescription] = useState('');\n  const { userId } = useAuth();\n  const [pictureUrl, setPictureUrl] = useState('/assets/placeholder.png');\n  const fileInputRef = useRef<HTMLInputElement>();\n  // const history = useHistory();\n\n  async function savePicture(blobUrl, userId){\n    const pictureRef = store.ref(`/users/${userId}/pictures/${Date.now()}`);\n    const response = await fetch(blobUrl);\n    const blob = await response.blob();\n    const snapshot = await pictureRef.put(blob);\n    const url = await snapshot.ref.getDownloadURL();\n    //console.log(\"Saved:\", url);\n    return url;\n  }\n\n  useEffect(() => () => {\n    if(pictureUrl.startsWith('blob')) {\n      URL.revokeObjectURL(pictureUrl);\n      console.log('Revoked', pictureUrl); \n    }\n  }, [pictureUrl]);\n\n  const handleFileChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    console.log('Files:', event.target.files);\n    if(event.target.files.length > 0) {\n      const file = event.target.files.item(0);// get the file\n      const pictureUrl = URL.createObjectURL(file); // URL object extracted from the file\n      // console.log('created: ', pictureUrl);\n      setPictureUrl(pictureUrl);\n    }\n  };\n\n  const handleSave = async () => {\n    const entriesRef = firestore.collection(\"users\").doc(userId).collection(\"entries\");\n    const entryData = { date, title, pictureUrl, description };\n    if(pictureUrl.startsWith('blob')) {\n      entryData.pictureUrl = await savePicture(pictureUrl, userId);\n    }\n    const entryRef = await entriesRef.add(entryData);\n    console.log('saved', entryRef.id);\n    // history.goBack();\n  }\n\n  return (\n    <IonPage>\n      <IonHeader>\n        <IonToolbar>\n          <IonButtons slot=\"start\">\n            <IonBackButton />\n          </IonButtons>\n          <IonTitle> Add Entry </IonTitle>\n        </IonToolbar>\n      </IonHeader>\n\n      <IonContent className=\"ion-padding\">\n        <IonList>\n          <IonItem>\n            <IonLabel position=\"floating\">Date </IonLabel>\n            <IonDatetime value={date} onIonChange={(e) => setDate(e.detail.value)} />\n          </IonItem>\n          <IonItem>\n            <IonLabel position=\"floating\">Title </IonLabel>\n            <IonInput type=\"text\" value={title} onIonChange={(e) => setTitle(e.detail.value)} />\n          </IonItem>\n\n          <IonItem>\n            <IonLabel position=\"floating\">Picture</IonLabel><br />\n              <input type=\"file\" accept=\"image/*\" hidden ref={fileInputRef}\n                onChange={handleFileChange} />\n              <img src={pictureUrl} alt=\"\" style={{cursor:'pointer'}}\n                onClick={() => fileInputRef.current.click()} /> \n          </IonItem>\n\n          <IonItem>\n            <IonLabel position=\"floating\">Description </IonLabel>\n            <IonTextarea value={description} onIonChange={(e) => setDescription(e.detail.value)} />\n          </IonItem>\n\n        </IonList>\n\n        <IonButton expand=\"block\" type=\"submit\" onClick={handleSave} routerLink=\"/my/entries\"> Submit </IonButton>\n\n      </IonContent>\n    </IonPage >\n  );\n};\n\nexport default AddEntryPage;\n","import {\n  IonRouterOutlet,\n  IonTabBar,\n  IonTabButton,\n  IonLabel,\n  IonIcon,\n  IonTabs,\n} from '@ionic/react';\nimport React from 'react';\nimport { Redirect, Route } from 'react-router-dom';\nimport { home as homeIcon, settings as settingsIcon } from 'ionicons/icons';\nimport HomePage from './pages/HomePage';\nimport EntryPage from './pages/EntryPage';\nimport SettingsPage from './pages/SettingsPage';\nimport { useAuth } from './auth';\nimport AddEntryPage from './pages/AddEntryPage';\n\nconst AppTabs: React.FC = () => {\n  const { loggedIn} = useAuth();\n  if(!loggedIn) {\n    return <Redirect to=\"/login\" />\n  }\n\n  return (\n        <IonTabs>\n          <IonRouterOutlet>\n            <Route exact path=\"/my/entries\">\n              <HomePage />\n            </Route>\n\n            <Route exact path=\"/my/entries/view/:id\" >\n              <EntryPage />\n            </Route>\n\n            <Route exact path=\"/my/settings\" >\n              <SettingsPage />\n            </Route>\n\n            <Route exact path=\"/my/entries/add\" >\n              <AddEntryPage />\n            </Route>\n\n          </IonRouterOutlet>\n\n            <IonTabBar slot=\"bottom\" >\n              <IonTabButton tab=\"home\" href=\"/my/entries\" >\n                <IonIcon icon={homeIcon} />\n                <IonLabel>Home</IonLabel>\n              </IonTabButton>\n              <IonTabButton tab=\"settings\" href=\"/my/settings\" >\n                <IonIcon icon={settingsIcon} />\n                <IonLabel>Settings</IonLabel>\n              </IonTabButton>\n            </IonTabBar>\n        </IonTabs>\n  );\n};\n\nexport default AppTabs;\n","import {\n  IonContent,\n  IonHeader,\n  IonPage,\n  IonTitle,\n  IonToolbar,\n  IonButton,\n  IonItem,\n  IonLabel,\n  IonInput,\n  IonList,\n  IonText,\n  IonLoading\n} from '@ionic/react';\nimport React, { useState } from 'react';\nimport { Redirect } from 'react-router';\nimport { useAuth } from '../auth';\nimport { auth } from '../firebase';\n\n// interface Props {\n//   onLogin: () => void;\n// }\n\n// const LoginPage: React.FC<Props> = ({ onLogin }) => {\n  const LoginPage: React.FC = () => {\n  // const { loggedIn } = useContext(AuthContext);\n  const { loggedIn } = useAuth();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [status, setStatus] = useState({loading:false, error:false});\n\n  const handleLogin = async () => {\n    try {\n      setStatus({loading:true, error:false});\n      const credential = await auth.signInWithEmailAndPassword(email,password);\n      // setStatus({loading:false, error:false});\n      console.log('credential:', credential)\n      // onLogin();\n    }\n    catch (error) {\n      setStatus({loading:false, error:true});\n      console.log('error: ', error);\n    }\n  }\n\n  console.log(`Login Status: ${loggedIn}`);\n  if(loggedIn) {\n    return <Redirect to=\"/my/entries\" />;\n  }\n  return (\n    <IonPage>\n      <IonHeader>\n        <IonToolbar>\n          <IonTitle>Login Page</IonTitle>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent className=\"ion-padding\">\n          <IonList>\n            <IonItem>\n                <IonLabel position=\"floating\">Email</IonLabel>\n                <IonInput type=\"email\" value={email}\n                  onIonChange={(event) => setEmail(event.detail.value)}\n                />\n            </IonItem>\n            <IonItem>\n                <IonLabel position=\"floating\">Password</IonLabel>\n                <IonInput type=\"password\" value={password}\n                  onIonChange={(event) => setPassword(event.detail.value)}\n                 />\n            </IonItem>\n          </IonList>\n          {status.error &&\n            <IonText color=\"danger\">Invalid Credentials</IonText>\n          }\n          <IonButton expand=\"block\" onClick={handleLogin}>Login</IonButton>\n          <IonButton expand=\"block\" fill=\"clear\" routerLink=\"/register\">Don't Have an Account?</IonButton>\n          <IonLoading isOpen={status.loading} />\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default LoginPage;\n","import {\n  IonContent,\n  IonPage,\n} from '@ionic/react';\nimport React from 'react';\n\nconst NotFoundPage: React.FC = () => {\n  return (\n    <IonPage>\n      <IonContent className=\"ion-padding\">\n        Page Not Found.\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default NotFoundPage;\n","import {\n  IonContent,\n  IonHeader,\n  IonPage,\n  IonTitle,\n  IonToolbar,\n  IonButton,\n  IonItem,\n  IonLabel,\n  IonInput,\n  IonList,\n  IonText,\n  IonLoading\n} from '@ionic/react';\nimport React, { useState } from 'react';\nimport { Redirect } from 'react-router';\nimport { useAuth } from '../auth';\nimport { auth } from '../firebase';\n\n\n  const RegisterPage: React.FC = () => {\n  const { loggedIn } = useAuth();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [status, setStatus] = useState({loading:false, error:false});\n\n  const handleRegister = async () => {\n    try {\n      setStatus({loading:true, error:false});\n      const credential = await auth.createUserWithEmailAndPassword(email,password);\n      console.log('credential:', credential)\n    }\n    catch (error) {\n      setStatus({loading:false, error:true});\n      console.log('error: ', error);\n    }\n  }\n\n  console.log(`Login Status: ${loggedIn}`);\n  if(loggedIn) {\n    return <Redirect to=\"/my/entries\" />;\n  }\n  return (\n    <IonPage>\n      <IonHeader>\n        <IonToolbar>\n          <IonTitle>Register Page</IonTitle>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent className=\"ion-padding\">\n          <IonList>\n            <IonItem>\n                <IonLabel position=\"floating\">Email</IonLabel>\n                <IonInput type=\"email\" value={email}\n                  onIonChange={(event) => setEmail(event.detail.value)}\n                />\n            </IonItem>\n            <IonItem>\n                <IonLabel position=\"floating\">Password</IonLabel>\n                <IonInput type=\"password\" value={password}\n                  onIonChange={(event) => setPassword(event.detail.value)}\n                 />\n            </IonItem>\n          </IonList>\n          {status.error &&\n            <IonText color=\"danger\">Registration Failed!</IonText>\n          }\n          <IonButton expand=\"block\" onClick={handleRegister}>Register</IonButton>\n          <IonButton expand=\"block\" fill=\"clear\" routerLink=\"/login\">Already Have an Account?</IonButton>\n          <IonLoading isOpen={status.loading} />\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default RegisterPage;\n","import {\n  IonApp, IonLoading,\n} from '@ionic/react';\nimport { Redirect, Route, Switch } from 'react-router-dom';\nimport React from 'react';\nimport { IonReactRouter } from '@ionic/react-router';\nimport AppTabs from './AppTabs';\nimport LoginPage from './pages/LoginPage';\nimport NotFoundPage from './pages/NotFoundPage';\nimport { AuthContext, useAuthInit } from './auth';\nimport RegisterPage from './pages/RegisterPage';\n// import { auth } from './firebase';\n\nconst App: React.FC = () => {\n  const { loading, auth } = useAuthInit();\n  // const authState = useAuthInit();\n  // const authState = useAuthInit();\n  // const [loggedIn, setLoggedIn] = useState(false);\n  // const { loading, auth } = useAuthInit();\n\n  if(loading) {\n    return<IonLoading isOpen />;\n  }\n  console.log(`rendering App with authState=`, auth);\n  //   if(authState.loading) {\n  //     return <IonLoading isOpen />;\n  //   }\n\n  return (\n    <IonApp>\n      <AuthContext.Provider value = { auth }>\n          <IonReactRouter>\n              <Switch>\n                <Route exact path=\"/login\">\n                    <LoginPage />\n                </Route>\n                <Route exact path=\"/register\">\n                    <RegisterPage />\n                </Route>\n                <Route path=\"/my\" >\n                  <AppTabs />\n                </Route>\n                <Redirect exact path=\"/\" to=\"/login\" />\n                <Route>\n                  <NotFoundPage />\n                </Route>\n              </Switch>\n        </IonReactRouter>\n      </AuthContext.Provider>\n    </IonApp>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { Plugins } from '@capacitor/core';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\n/* Core CSS required for Ionic components to work properly */\nimport '@ionic/react/css/core.css';\n\n/* Basic CSS for apps built with Ionic */\nimport '@ionic/react/css/normalize.css';\nimport '@ionic/react/css/structure.css';\nimport '@ionic/react/css/typography.css';\n\n/* Optional CSS utils that can be commented out */\nimport '@ionic/react/css/padding.css';\nimport '@ionic/react/css/float-elements.css';\nimport '@ionic/react/css/text-alignment.css';\nimport '@ionic/react/css/text-transformation.css';\nimport '@ionic/react/css/flex-utils.css';\nimport '@ionic/react/css/display.css';\n\n/* Theme variables */\nimport './theme/variables.css';\n\nconst { SplashScreen } = Plugins;\nReactDOM.render(<App />, document.getElementById('root'));\nSplashScreen.hide();\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"]}}