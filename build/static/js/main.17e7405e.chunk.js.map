{"version":3,"sources":["../node_modules/@ionic/core/dist/esm-es5 lazy /^/.//.*/.entry/.js$/ groupOptions: {} namespace object","../node_modules/ionicons/dist/esm-es5 lazy /^/.//.*/.entry/.js$/ groupOptions: {} namespace object","firebase.ts","auth.ts","models.ts","date.ts","pages/HomePage.tsx","pages/EntryPage.tsx","pages/SettingsPage.tsx","pages/AddEntryPage.tsx","pages/calendar.tsx","pages/CalendarPage.tsx","pages/EditEntryPage.tsx","AppTabs.tsx","pages/LoginPage.tsx","pages/NotFoundPage.tsx","pages/RegisterPage.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","keys","Object","module","exports","app","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","firestore","store","storage","AuthContext","React","createContext","loggedIn","useAuth","useContext","toEntry","doc","_objectSpread","data","formatDate","isoString","Date","toLocaleDateString","day","month","year","hour","minute","HomePage","useRouteMatch","params","userId","_useState","useState","_useState2","_slicedToArray","entries","setEntries","_useState3","_useState4","showCompleted","setShowCompleted","_useState5","_useState6","useEffect","collection","orderBy","onSnapshot","_ref","docs","handleComplete","entry","update","completed","console","log","catch","error","filteredEntries","filter","_jsxs","IonPage","children","_jsx","IonHeader","IonToolbar","IonTitle","IonContent","IonList","IonItem","IonLabel","IonToggle","checked","onIonChange","detail","IonItemSliding","routerLink","concat","IonText","title","date","IonIcon","slot","icon","checkmarkDoneCircleSharp","color","checkmarkCircleOutline","IonItemOptions","side","IonItemOption","onClick","IonFab","vertical","horizontal","IonFabButton","addIcon","EntryPage","setEntry","history","useHistory","showConfirmDelete","setShowConfirmDelete","handleDelete","_asyncToGenerator","_regeneratorRuntime","mark","_callee","entryRef","wrap","_context","prev","next","delete","goBack","stop","apply","arguments","IonButtons","IonBackButton","IonButton","push","pencilIcon","trashIcon","className","description","_Fragment","checkmarkCircle","closeCircle","link","href","pictureUrl","src","alt","IonAlert","isOpen","onDidDismiss","header","message","buttons","text","role","cssClass","handler","SettingsPage","userEmail","setUserEmail","showDeleteAlert","setShowDeleteAlert","newEmail","setNewEmail","_useState7","_useState8","newPassword","setNewPassword","_useState9","_useState10","isVerified","setIsVerified","_useState11","_useState12","currentPassword","setCurrentPassword","unsubscribe","onAuthStateChanged","user","email","emailVerified","handleDeleteAccount","_currentPassword","credential","userDocRef","batch","userEntriesRef","currentUser","prompt","EmailAuthProvider","reauthenticateWithCredential","uid","get","sent","exists","forEach","ref","commit","signOut","t0","window","alert","handleUpdateCredentials","_ref2","_callee2","_context2","updateEmail","updatePassword","_x","_x2","IonCard","IonCardContent","button","sendEmailVerification","mailOutline","trashOutline","IonInput","type","value","placeholder","expand","isPlatform","getPlatforms","AddEntryPage","setDate","setTitle","setDescription","setLink","showAlert","setShowAlert","_useState13","_useState14","recurrencePattern","setRecurrencePattern","_useState15","_useState16","setPictureUrl","fileInputRef","useRef","savePicture","_savePicture","blobUrl","pictureRef","response","blob","snapshot","url","now","fetch","put","getDownloadURL","abrupt","startsWith","URL","revokeObjectURL","handleSave","entriesRef","entryData","i","nextDate","nextEntryData","nextEntryRef","_i","_nextDate","_nextEntryData","_nextEntryRef","_i2","_nextDate2","_nextEntryData2","_nextEntryRef2","add","format","addDays","addWeeks","addMonths","position","IonDatetime","style","IonTextarea","IonSelect","IonSelectOption","accept","hidden","onChange","event","target","files","length","file","item","createObjectURL","current","click","CalendarContainer","styled","div","_templateObject","_taggedTemplateLiteral","Calendar","loading","setLoading","events","classNames","FullCalendar","plugins","dayGridPlugin","initialView","eventClick","lazyFetching","height","CalendarPage","refresh","location","reload","EditEntryPage","_location$state2","_location$state3","useParams","useLocation","shouldRefresh","setShouldRefresh","_location$state","state","_location$state$entry","_toEntry","updatedEntry","set","merge","fill","_document$getElementB","document","getElementById","display","AppTabs","IonTabs","IonRouterOutlet","Route","exact","path","IonTabBar","IonTabButton","tab","homeIcon","calendarIcon","settingsIcon","Redirect","to","LoginPage","setEmail","password","setPassword","status","setStatus","handleLogin","signInWithEmailAndPassword","handleForgotPassword","sendPasswordResetEmail","IonLoading","NotFoundPage","RegisterPage","handleRegister","createUserWithEmailAndPassword","App","_useAuthInit","authInit","setAuthInit","firebaseAuth","firebaseUser","useAuthInit","IonApp","Provider","IonReactRouter","Switch","Boolean","hostname","match","SplashScreen","Plugins","ReactDOM","render","hide","navigator","serviceWorker","ready","registration","unregister"],"mappings":"yGAAA,IAAIA,EAAM,CACT,8BAA+B,CAC9B,IACA,GAED,uBAAwB,CACvB,IACA,GAED,uBAAwB,CACvB,IACA,GAED,0BAA2B,CAC1B,IACA,IAED,6BAA8B,CAC7B,IACA,IAED,0BAA2B,CAC1B,IACA,IAED,0BAA2B,CAC1B,IACA,IAED,wBAAyB,CACxB,IACA,IAED,0BAA2B,CAC1B,IACA,IAED,sBAAuB,CACtB,IACA,IAED,uBAAwB,CACvB,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,uBAAwB,CACvB,IACA,IAED,qBAAsB,CACrB,IACA,IAED,mCAAoC,CACnC,IACA,IAED,uBAAwB,CACvB,IACA,IAED,+BAAgC,CAC/B,IACA,IAED,wBAAyB,CACxB,IACA,IAED,yBAA0B,CACzB,IACA,IAED,wBAAyB,CACxB,IACA,IAED,uBAAwB,CACvB,IACA,GAED,uBAAwB,CACvB,IACA,IAED,yBAA0B,CACzB,IACA,GAED,8BAA+B,CAC9B,IACA,IAED,yBAA0B,CACzB,IACA,IAED,uBAAwB,CACvB,IACA,IAED,6BAA8B,CAC7B,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,+BAAgC,CAC/B,IACA,IAED,yBAA0B,CACzB,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,0BAA2B,CAC1B,IACA,IAED,yBAA0B,CACzB,IACA,IAED,yBAA0B,CACzB,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,uBAAwB,CACvB,IACA,IAED,sBAAuB,CACtB,IACA,IAED,0BAA2B,CAC1B,IACA,IAED,uBAAwB,CACvB,IACA,IAED,wBAAyB,CACxB,IACA,IAED,gCAAiC,CAChC,IACA,KAGF,SAASC,EAAoBC,GAC5B,IAAIC,EAAoBC,EAAEJ,EAAKE,GAC9B,OAAOG,QAAQC,UAAUC,MAAK,WAC7B,IAAIC,EAAI,IAAIC,MAAM,uBAAyBP,EAAM,KAEjD,MADAM,EAAEE,KAAO,mBACHF,KAIR,IAAIG,EAAMX,EAAIE,GAAMU,EAAKD,EAAI,GAC7B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","file":"static/js/main.17e7405e.chunk.js","sourcesContent":["var map = {\n\t\"./ion-action-sheet.entry.js\": [\n\t\t132,\n\t\t5\n\t],\n\t\"./ion-alert.entry.js\": [\n\t\t133,\n\t\t6\n\t],\n\t\"./ion-app_8.entry.js\": [\n\t\t134,\n\t\t7\n\t],\n\t\"./ion-avatar_3.entry.js\": [\n\t\t135,\n\t\t17\n\t],\n\t\"./ion-back-button.entry.js\": [\n\t\t136,\n\t\t18\n\t],\n\t\"./ion-backdrop.entry.js\": [\n\t\t137,\n\t\t43\n\t],\n\t\"./ion-button_2.entry.js\": [\n\t\t138,\n\t\t19\n\t],\n\t\"./ion-card_5.entry.js\": [\n\t\t139,\n\t\t20\n\t],\n\t\"./ion-checkbox.entry.js\": [\n\t\t140,\n\t\t21\n\t],\n\t\"./ion-chip.entry.js\": [\n\t\t141,\n\t\t22\n\t],\n\t\"./ion-col_3.entry.js\": [\n\t\t142,\n\t\t44\n\t],\n\t\"./ion-datetime_3.entry.js\": [\n\t\t143,\n\t\t10\n\t],\n\t\"./ion-fab_3.entry.js\": [\n\t\t144,\n\t\t23\n\t],\n\t\"./ion-img.entry.js\": [\n\t\t145,\n\t\t45\n\t],\n\t\"./ion-infinite-scroll_2.entry.js\": [\n\t\t146,\n\t\t46\n\t],\n\t\"./ion-input.entry.js\": [\n\t\t147,\n\t\t24\n\t],\n\t\"./ion-item-option_3.entry.js\": [\n\t\t148,\n\t\t25\n\t],\n\t\"./ion-item_8.entry.js\": [\n\t\t149,\n\t\t26\n\t],\n\t\"./ion-loading.entry.js\": [\n\t\t150,\n\t\t27\n\t],\n\t\"./ion-menu_3.entry.js\": [\n\t\t151,\n\t\t28\n\t],\n\t\"./ion-modal.entry.js\": [\n\t\t152,\n\t\t8\n\t],\n\t\"./ion-nav_2.entry.js\": [\n\t\t153,\n\t\t14\n\t],\n\t\"./ion-popover.entry.js\": [\n\t\t154,\n\t\t9\n\t],\n\t\"./ion-progress-bar.entry.js\": [\n\t\t155,\n\t\t29\n\t],\n\t\"./ion-radio_2.entry.js\": [\n\t\t156,\n\t\t30\n\t],\n\t\"./ion-range.entry.js\": [\n\t\t157,\n\t\t31\n\t],\n\t\"./ion-refresher_2.entry.js\": [\n\t\t158,\n\t\t11\n\t],\n\t\"./ion-reorder_2.entry.js\": [\n\t\t159,\n\t\t16\n\t],\n\t\"./ion-ripple-effect.entry.js\": [\n\t\t160,\n\t\t47\n\t],\n\t\"./ion-route_4.entry.js\": [\n\t\t161,\n\t\t32\n\t],\n\t\"./ion-searchbar.entry.js\": [\n\t\t162,\n\t\t33\n\t],\n\t\"./ion-segment_2.entry.js\": [\n\t\t163,\n\t\t34\n\t],\n\t\"./ion-select_3.entry.js\": [\n\t\t164,\n\t\t35\n\t],\n\t\"./ion-slide_2.entry.js\": [\n\t\t165,\n\t\t48\n\t],\n\t\"./ion-spinner.entry.js\": [\n\t\t166,\n\t\t13\n\t],\n\t\"./ion-split-pane.entry.js\": [\n\t\t167,\n\t\t49\n\t],\n\t\"./ion-tab-bar_2.entry.js\": [\n\t\t168,\n\t\t36\n\t],\n\t\"./ion-tab_2.entry.js\": [\n\t\t169,\n\t\t15\n\t],\n\t\"./ion-text.entry.js\": [\n\t\t170,\n\t\t37\n\t],\n\t\"./ion-textarea.entry.js\": [\n\t\t171,\n\t\t38\n\t],\n\t\"./ion-toast.entry.js\": [\n\t\t172,\n\t\t39\n\t],\n\t\"./ion-toggle.entry.js\": [\n\t\t173,\n\t\t12\n\t],\n\t\"./ion-virtual-scroll.entry.js\": [\n\t\t174,\n\t\t50\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 101;\nmodule.exports = webpackAsyncContext;","var map = {\n\t\"./ion-icon.entry.js\": [\n\t\t175,\n\t\t57\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 103;\nmodule.exports = webpackAsyncContext;","import firebase from \"firebase/app\";\r\nimport 'firebase/auth';\r\nimport 'firebase/firestore';\r\nimport 'firebase/storage';\r\n\r\nexport const firebaseConfig = {\r\n  apiKey: \"AIzaSyBpUvqRiPEa26RiA0PsK1V1qI_ZqlHGpw0\",\r\n  authDomain: \"daily-moments-9abb4.firebaseapp.com\",\r\n  projectId: \"daily-moments-9abb4\",\r\n  storageBucket: \"daily-moments-9abb4.appspot.com\",\r\n  messagingSenderId: \"295639442776\",\r\n  appId: \"1:295639442776:web:402663e5b5aa8bb5f0f12d\",\r\n  measurementId: \"G-JJTPX4R3C6\"\r\n  };\r\n\r\nconst app = firebase.initializeApp(firebaseConfig);\r\n\r\nexport const auth = app.auth();\r\nexport const firestore = app.firestore();\r\nexport const store = app.storage();","import React, { useContext, useEffect, useState } from 'react';\r\nimport { auth as firebaseAuth } from './firebase'; \r\n\r\n// most components will use this,\r\n// if user is logged in and what is the userId\r\ninterface Auth {\r\n  loggedIn: boolean;\r\n  userId?: string; // ? is optional\r\n}\r\n\r\n// Only used by App to initialize the firebase authentication\r\ninterface AuthInit {\r\n  loading: boolean;\r\n  auth?: Auth;\r\n}\r\n\r\nexport const AuthContext = React.createContext<Auth>({loggedIn:false});\r\n\r\nexport function useAuth(): Auth {\r\n    return useContext(AuthContext);\r\n}\r\n\r\nexport function useAuthInit(): AuthInit {\r\n  const [authInit, setAuthInit] = useState<AuthInit>({loading: true});\r\n  useEffect(() => {\r\n    return firebaseAuth.onAuthStateChanged((firebaseUser) => {\r\n        // setAuthInit({loading: false, auth: {loggedIn: Boolean(user)}});\r\n        const auth = firebaseUser ?\r\n          { loggedIn:  true, userId: firebaseUser.uid} :\r\n          { loggedIn: false };\r\n        setAuthInit({ loading: false, auth});\r\n      });\r\n    },[]);\r\n\r\n  // const [authState, setAuthInit] = useState<AuthInit>({loading: true});\r\n  // useEffect(() => {\r\n  //   return firebaseAuth.onAuthStateChanged((firebaseUser) => {\r\n  //         const auth = firebaseUser ?\r\n  //             {loggedIn: true, userId: firebaseUser.uid } :\r\n  //             {loggedIn: false};\r\n  //         setAuthInit({loading: false, auth});\r\n  //   });\r\n  // }, []);\r\n  return authInit;\r\n}\r\n\r\n// export function useAuthInit(): AuthInit {\r\n//   const [authInit, setAuthInit] = useState<AuthInit>({ loading: true, loggedIn: false });\r\n//     useEffect(() => {\r\n//       firebaseAuth.onAuthStateChanged((user) => {\r\n//           setAuthInit({loading: false, loggedIn: Boolean(user)});\r\n//         });\r\n//       },[]);\r\n//   return authInit;\r\n// }\r\n\r\n","export interface Entry {\n    id: string;\n    date: string;\n    title: string;\n    pictureUrl: string;\n    description: string;\n    link: string;\n    completed: boolean;\n}\n\nexport function toEntry(doc): Entry {\n    return { id: doc.id, ...doc.data() }\n}\n\n","export function formatDate(isoString) {\n  return new Date(isoString).toLocaleDateString('en-US', { \n    day: 'numeric', month: 'short', year: 'numeric', hour: 'numeric', minute: 'numeric'\n  });\n}\n","import {\n  IonContent,\n  IonFab,\n  IonFabButton,\n  IonHeader,\n  IonIcon,\n  IonItem,\n  IonPage,\n  IonTitle,\n  IonToolbar,\n  IonLabel,\n  IonThumbnail,\n  IonImg,\n  IonList,\n  IonItemSliding,\n  IonText,\n  IonItemOptions,\n  IonItemOption,\n  IonCard,\n  IonCheckbox,\n  IonToggle,\n} from '@ionic/react';\nimport React, { useEffect, useState } from 'react';\nimport { useAuth } from '../auth';\nimport { firestore } from '../firebase';\nimport { Entry, toEntry } from '../models';\nimport { add as addIcon, checkmarkCircleOutline, checkmarkCircleSharp, checkmarkDoneCircleOutline, checkmarkDoneCircleSharp, handLeft } from 'ionicons/icons';\nimport { formatDate } from '../date';\nimport { useRouteMatch } from 'react-router';\n\n\ninterface RouteParams {\n  id: string;\n}\n\nconst HomePage: React.FC = () => {\n  const match = useRouteMatch<RouteParams>();\n  const { id } = match.params;\n  const { userId } = useAuth();\n  const [entries, setEntries] = useState<Entry[]>([]);\n  const [showCompleted, setShowCompleted] = useState(false);\n  const [showConfirmDelete, setShowConfirmDelete] = useState(false);\n\n  useEffect(() => {\n    const entriesRef = firestore\n      .collection('users')\n      .doc(userId)\n      .collection('entries')\n      .orderBy('date', 'desc');\n\n\n    return entriesRef.onSnapshot(({ docs }) => setEntries(docs.map(toEntry)));\n  }, [userId]);\n  \n  const handleDelete = async () => {\n    setShowConfirmDelete(false);\n    const entryRef = firestore.collection('users').doc(userId)\n      .collection('entries').doc(id);\n    await entryRef.delete();\n  };\n  const handleComplete = (entry: Entry) => {\n    const entryRef = firestore\n      .collection('users')\n      .doc(userId)\n      .collection('entries')\n      .doc(entry.id);\n  \n    entryRef\n      .update({\n        completed: !entry.completed,\n      })\n      .then(() => {\n        console.log('Entry updated successfully!');\n      })\n      .catch((error) => {\n        console.error('Error updating entry: ', error);\n      });\n  };\n  \n\n  // filter entries based on showCompleted state\n// filter entries based on showCompleted state\n      const filteredEntries = entries.filter((entry) => {\n        if (showCompleted) {\n          return entry.completed; // show all entries\n        } else {\n          return !entry.completed; // only show incomplete entries\n        }\n      });\n\n  return (\n    <IonPage>\n      <IonHeader>\n        <IonToolbar>\n          <IonTitle>Homepage</IonTitle>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent>\n        <IonList>\n          <IonItem>\n            <IonLabel>Completed</IonLabel>\n            <IonToggle checked={showCompleted} onIonChange={(e) => setShowCompleted(e.detail.checked)} />\n          </IonItem>\n        </IonList>\n        {filteredEntries.map((entry) => (\n          <IonItemSliding key={entry.id}>\n            <IonItem routerLink={`/my/entries/view/${entry.id}`}>\n              <IonText>\n                <h2>{entry.title}</h2>\n                <h6>{formatDate(entry.date)}</h6>\n              </IonText>\n              {entry.completed ? (\n                <IonIcon slot=\"start\" icon={checkmarkDoneCircleSharp} color=\"light\" />\n              ) : (\n                <IonIcon slot=\"start\" icon={checkmarkCircleOutline} color=\"light\" />\n              )}\n            </IonItem>\n            {!entry.completed && (\n              <IonItemOptions side=\"end\">\n                <IonItemOption color=\"success\" onClick={() => handleComplete(entry)}>\n                  <IonIcon slot=\"icon-only\" icon={checkmarkDoneCircleSharp} />\n                </IonItemOption>\n              </IonItemOptions>\n            )}\n            {entry.completed && (\n              <IonItemOptions side=\"end\">\n                <IonItemOption color=\"danger\" onClick={() => handleComplete(entry)}>\n                  <IonIcon slot=\"icon-only\" icon={checkmarkCircleOutline} />\n                </IonItemOption>\n              </IonItemOptions>\n            )}\n          </IonItemSliding>\n        ))}\n\n\n\n\n        <IonFab vertical=\"bottom\" horizontal=\"end\" slot=\"fixed\">\n          <IonFabButton routerLink=\"/my/entries/add\">\n            <IonIcon icon={addIcon} />\n          </IonFabButton>\n        </IonFab>\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default HomePage;\n","import {\n  IonContent,\n  IonHeader,\n  IonPage,\n  IonTitle,\n  IonToolbar,\n  IonBackButton,\n  IonButtons,\n  IonButton,\n  IonIcon,\n  IonAlert\n} from '@ionic/react';\nimport React, { useEffect, useState } from 'react';\nimport { useHistory, useRouteMatch } from 'react-router';\nimport { useAuth } from '../auth';\nimport { firestore } from '../firebase';\nimport { Entry, toEntry } from '../models';\nimport { trash as trashIcon, pencil as pencilIcon, checkmarkCircle, closeCircle } from 'ionicons/icons';\nimport { formatDate } from '../date';\nimport './EntryPage.css';\n\ninterface RouteParams {\n  id: string;\n}\n\nconst EntryPage: React.FC = () => {\n  const match = useRouteMatch<RouteParams>();\n  const { id } = match.params;\n  const { userId } = useAuth();\n  const [entry, setEntry] = useState<Entry>();\n  const history = useHistory();\n  const [showConfirmDelete, setShowConfirmDelete] = useState(false);\n\n  useEffect(() => {\n    const entryRef = firestore.collection('users').doc(userId)\n      .collection('entries').doc(id);\n    const unsubscribe = entryRef.onSnapshot((doc) => {\n      setEntry(toEntry(doc));\n    });\n    return unsubscribe;\n  }, [userId, id]);\n  \n\n  const handleDelete = async () => {\n    setShowConfirmDelete(false);\n    const entryRef = firestore.collection('users').doc(userId)\n      .collection('entries').doc(id);\n    await entryRef.delete();\n    history.goBack();\n  };\n\n  const handleEdit = () => {\n    history.push(`/my/edit-entry/${id}`);\n  };\n\n  \n\n  return (\n    <IonPage>\n      <IonHeader>\n        <IonToolbar>\n          <IonButtons slot=\"start\">\n            <IonBackButton />\n          </IonButtons>\n          <IonTitle>\n            {entry?.title}\n          </IonTitle>\n          <IonButtons slot=\"end\">\n          <IonButton onClick={handleEdit}>\n              <IonIcon icon={pencilIcon} slot=\"icon-only\" />\n            </IonButton>\n            <IonButton onClick={() => setShowConfirmDelete(true)}>\n              <IonIcon icon={trashIcon} slot=\"icon-only\" />\n            </IonButton>\n\n          </IonButtons>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent className=\"ion-padding\">\n      <div className=\"entry-content\">\n        <h2>{entry?.title}</h2>\n        <p>{formatDate(entry?.date)}</p>\n        <p>{entry?.description}</p>\n        <p>\n            {entry?.completed ? \n              <>\n                <IonIcon icon={checkmarkCircle} color=\"success\" /> Completed\n              </>\n              :\n              <>\n                <IonIcon icon={closeCircle} color=\"danger\" /> Not completed\n              </>\n            }\n          </p>        {entry?.link && <p><a href={entry?.link}>{entry?.link}</a></p>}\n        {entry?.pictureUrl && <img className=\"entry-image\" src={entry?.pictureUrl} alt={entry?.title} />}\n      </div>\n\n\n\n        <IonAlert\n          isOpen={showConfirmDelete}\n          onDidDismiss={() => setShowConfirmDelete(false)}\n          header={'Delete Entry'}\n          message={'Are you sure you want to delete this entry?'}\n          buttons={[\n            {\n              text: 'Cancel',\n              role: 'cancel',\n              cssClass: 'secondary',\n              handler: () => {\n                setShowConfirmDelete(false);\n              }\n            },\n            {\n              text: 'Delete',\n              handler: () => {\n                handleDelete();\n              }\n            }\n          ]}\n        />\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default EntryPage;\n","import {\n  IonButton,\n  IonContent,\n  IonHeader,\n  IonPage,\n  IonTitle,\n  IonToolbar,\n  IonCard,\n  IonCardContent,\n  IonItem,\n  IonLabel,\n  IonIcon,\n  IonAlert,\n  IonInput,\n} from '@ionic/react';\nimport React, { useState, useEffect } from 'react';\nimport { auth, firestore } from '../firebase';\nimport { mailOutline, trashOutline } from 'ionicons/icons';\nimport firebase from 'firebase';\n\nconst SettingsPage: React.FC = () => {\n  const [userEmail, setUserEmail] = useState<string | null>(null);\n  const [showDeleteAlert, setShowDeleteAlert] = useState(false);\n  const [newEmail, setNewEmail] = useState<string>('');\n  const [newPassword, setNewPassword] = useState<string>('');\n  const [isVerified, setIsVerified] = useState<boolean>(false);\n  const [currentPassword, setCurrentPassword] = useState<string>('');\n  useEffect(() => {\n    // Get the currently logged in user's email\n    const unsubscribe = auth.onAuthStateChanged((user) => {\n      if (user) {\n        setUserEmail(user.email);\n        setIsVerified(user.emailVerified);\n\n      }\n    });\n\n    return () => {\n      unsubscribe();\n    };\n  }, []);\n\n  \n  const handleSendEmailVerification = () => {\n    const user = auth.currentUser;\n    if (user) {\n      user.sendEmailVerification()\n        .then(() => {\n          // Show success message\n          window.alert('Verification email sent successfully!');\n        })\n        .catch((error) => {\n          console.log(error);\n          // Show error message\n          window.alert('Error sending verification email.');\n        });\n    }\n  };\n\n  const handleDeleteAccount = async () => {\n    const user = auth.currentUser;\n    if (user) {\n      const currentPassword = prompt('Please enter your current password to confirm account deletion:');\n      const credential = firebase.auth.EmailAuthProvider.credential(user.email, currentPassword);\n      try {\n        await user.reauthenticateWithCredential(credential);\n        // Delete user data in Firestore if it exists\n        const userDocRef = firestore.collection('users').doc(user.uid);\n        const userDoc = await userDocRef.get();\n        if (userDoc.exists) {\n          await userDocRef.delete();\n        }\n        // Delete user's documents\n        const batch = firestore.batch();\n        const userEntriesRef = firestore.collection('users').doc(user.uid).collection('entries');\n        const userEntriesSnapshot = await userEntriesRef.get();\n        userEntriesSnapshot.forEach((doc) => {\n          batch.delete(doc.ref);\n        });\n        await batch.commit();\n        // Delete user account\n        await user.delete();\n        // Log out user\n        await auth.signOut();\n      } catch (error) {\n        console.log(error);\n        // Show error message\n        window.alert('Error deleting account.');\n      }\n    }\n  };\n  \nconst handleUpdateCredentials = async (newEmail: string, newPassword: string) => {\n  const user = auth.currentUser;\n  if (user) {\n    try {\n      const credential = firebase.auth.EmailAuthProvider.credential(user.email, currentPassword);\n      await user.reauthenticateWithCredential(credential);\n      \n      if (newEmail) {\n        await user.updateEmail(newEmail);\n        setUserEmail(newEmail);\n        setNewEmail('');\n      }\n      if (newPassword) {\n        await user.updatePassword(newPassword);\n        setNewPassword('');\n      }\n      \n      // Show success message\n      window.alert('Account credentials updated successfully!');\n    } catch (error) {\n      console.log(error);\n      // Show error message\n      window.alert('Error updating account credentials.');\n    }\n  }\n};\n\n\n  return (\n    <IonPage>\n      <IonHeader>\n        <IonToolbar>\n          <IonTitle>Settings</IonTitle>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent className=\"ion-padding\">\n        {userEmail && (\n          <IonCard>\n            <IonCardContent>\n              <IonItem>\n                <IonLabel>Email:</IonLabel>\n                <IonLabel>{userEmail}</IonLabel>\n              </IonItem>\n\n              {isVerified ? (\n                <IonItem>\n                  <IonLabel>Status:</IonLabel>\n                  <IonLabel>Verified</IonLabel>\n                </IonItem>\n              ) : (\n                <IonItem button onClick={handleSendEmailVerification}>\n                  <IonLabel>Verification Status:</IonLabel>\n                  <IonLabel color=\"danger\">Not Verified</IonLabel>\n                  <IonLabel slot=\"end\">Send Verification Email</IonLabel>\n                </IonItem>\n              )}\n\n            </IonCardContent>\n          </IonCard>\n        )}\n        <IonCard>\n          <IonCardContent>\n            <IonItem button href=\"mailto:hninwintthuaung@gmail.com\">\n              <IonIcon icon={mailOutline} slot=\"start\" />\n              <IonLabel>Contact Developer</IonLabel>\n            </IonItem>\n          </IonCardContent>\n        </IonCard>\n        <IonCard>\n          <IonCardContent>\n            <IonItem button onClick={() => setShowDeleteAlert(true)}>\n              <IonIcon icon={trashOutline} slot=\"start\" />\n              <IonLabel>Delete Account</IonLabel>\n            </IonItem>\n          </IonCardContent>\n        </IonCard>\n        <IonCard>\n      <IonCardContent>\n        {/* <IonItem>\n          <IonLabel>Email:</IonLabel>\n          <IonInput\n            type=\"email\"\n            value={newEmail}\n            placeholder=\"New email\"\n            onIonChange={(e) => setNewEmail(e.detail.value!)}\n          />\n        </IonItem> */}\n        <IonItem>\n          <IonLabel>Password:</IonLabel>\n          <IonInput\n            type=\"password\"\n            value={newPassword}\n            placeholder=\"New password\"\n            onIonChange={(e) => setNewPassword(e.detail.value!)}\n          />\n        </IonItem>\n        <IonItem>\n          <IonLabel>Current Password:</IonLabel>\n          <IonInput\n            type=\"password\"\n            value={currentPassword}\n            placeholder=\"Current password\"\n            onIonChange={(e) => setCurrentPassword(e.detail.value!)}\n          />\n        </IonItem>\n        <IonButton expand=\"block\" onClick={() => handleUpdateCredentials(newEmail, newPassword)}>\n          Update Credentials\n        </IonButton>\n      </IonCardContent>\n    </IonCard>\n        <IonButton expand=\"block\" onClick={() => auth.signOut()}>\n          Logout\n        </IonButton>\n        <IonAlert\n          isOpen={showDeleteAlert}\n          header=\"Delete Account\"\n          message=\"Are you sure you want to delete your account? This action is irreversible and all your data will be lost.\"\n          buttons={[\n            {\n              text: 'Cancel',\n              role: 'cancel',\n              handler: () => setShowDeleteAlert(false),\n            },\n            {\n              text: 'Delete',\n              handler: handleDeleteAccount,\n            },\n          ]}\n        />\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default SettingsPage;\n","import {\n  IonContent,\n  IonHeader,\n  IonPage,\n  IonTitle,\n  IonToolbar,\n  IonButtons,\n  IonBackButton,\n  IonInput,\n  IonButton,\n  IonList,\n  IonItem,\n  IonTextarea,\n  IonDatetime,\n  IonLabel,\n  IonAlert,\n  IonCheckbox,\n  IonSelect,\n  IonSelectOption\n} from '@ionic/react';\nimport { Plugins } from '@capacitor/core';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { useAuth } from '../auth';\nimport { firestore, store } from '../firebase';\nimport { isPlatform, getPlatforms  } from '@ionic/react';\nimport { useHistory } from 'react-router';\nimport { addDays, addWeeks, addMonths, format } from 'date-fns';\nconsole.log(isPlatform('ios')); // returns true when running on a iOS device\nconsole.log(getPlatforms()); // returns [\"iphone\", \"ios\", \"mobile\", \"mobileweb\"] from an iPhone\n\n\nconst AddEntryPage: React.FC = () => {\n  const [date, setDate] = useState<string>('');\n  const [title, setTitle] = useState('');\n  const [description, setDescription] = useState('');\n  const [link, setLink] = useState('');\n  const [showAlert, setShowAlert] = useState(false);\n  const [completed, setCompleted] = useState(false); // new state variable\n  const [recurrencePattern, setRecurrencePattern] = useState('daily');\n\n  const { userId } = useAuth();\n  const [pictureUrl, setPictureUrl] = useState('');\n  const fileInputRef = useRef<HTMLInputElement>();\n  const history = useHistory();\n\n  async function savePicture(blobUrl, userId){\n    const pictureRef = store.ref(`/users/${userId}/pictures/${Date.now()}`);\n    const response = await fetch(blobUrl);\n    const blob = await response.blob();\n    const snapshot = await pictureRef.put(blob);\n    const url = await snapshot.ref.getDownloadURL();\n    //console.log(\"Saved:\", url);\n    return url;\n  }\n\n  useEffect(() => () => {\n    if(pictureUrl.startsWith('blob')) {\n      URL.revokeObjectURL(pictureUrl);\n      console.log('Revoked', pictureUrl); \n    }\n  }, [pictureUrl]);\n\n  const handleFileChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    console.log('Files:', event.target.files);\n    if(event.target.files.length > 0) {\n      const file = event.target.files.item(0);// get the file\n      const pictureUrl = URL.createObjectURL(file); // URL object extracted from the file\n      // console.log('created: ', pictureUrl);\n      setPictureUrl(pictureUrl);\n    }\n  };\n\n  const handleSave = async () => {\n    if (!title) {\n      setShowAlert(true);\n      return;\n    }\n  \n    const entriesRef = firestore.collection('users').doc(userId).collection('entries');\n    const entryData = { date, title, pictureUrl, description, link, completed: false, recurrencePattern };\n  \n    if (pictureUrl.startsWith('blob')) {\n      entryData.pictureUrl = await savePicture(pictureUrl, userId);\n    }\n  \n    // Save the first entry\n    const entryRef = await entriesRef.add(entryData);\n    console.log('saved', entryRef.id);\n  \n    // Create the next 3 recurring entries\n    if (recurrencePattern === 'daily') {\n      for (let i = 1; i <= 2; i++) {\n        const nextDate = format(addDays(new Date(date), i), 'yyyy-MM-dd HH:mm'); // Generate the next date\n        const nextEntryData = { ...entryData, date: nextDate };\n        const nextEntryRef = await entriesRef.add(nextEntryData);\n        console.log('saved', nextEntryRef.id);\n      }\n    } else if (recurrencePattern === 'weekly') {\n      for (let i = 1; i <= 2; i++) {\n        const nextDate = format(addWeeks(new Date(date), i), 'yyyy-MM-dd HH:mm'); // Generate the next date\n        const nextEntryData = { ...entryData, date: nextDate };\n        const nextEntryRef = await entriesRef.add(nextEntryData);\n        console.log('saved', nextEntryRef.id);\n      }\n    } else if (recurrencePattern === 'monthly') {\n      for (let i = 1; i <= 2; i++) {\n        const nextDate = format(addMonths(new Date(date), i), 'yyyy-MM-dd HH:mm'); // Generate the next date\n        const nextEntryData = { ...entryData, date: nextDate };\n        const nextEntryRef = await entriesRef.add(nextEntryData);\n        console.log('saved', nextEntryRef.id);\n      }\n    }\n\n    history.push('/my/entries')\n  };\n  \n  \n  return (\n    <IonPage>\n      <IonHeader>\n        <IonToolbar>\n          <IonButtons slot=\"start\">\n            <IonBackButton />\n          </IonButtons>\n          <IonTitle> Add Entry </IonTitle>\n        </IonToolbar>\n      </IonHeader>\n\n      <IonContent className=\"ion-padding\">\n        <IonList>\n        <IonItem>\n            <IonLabel position=\"floating\">Date and Time</IonLabel>\n            <IonDatetime\n              display-format=\"MMM DD, YYYY HH:mm\"\n              picker-format=\"MMM DD YYYY HH:mm\"\n              value={date}\n              onIonChange={(e) => setDate(e.detail.value)}\n              style={{ '--padding-start': '12px', '--padding-end': '12px', '--background': '#f5f5f5', '--border-radius': '8px', '--box-shadow': 'none' }}\n            />\n        </IonItem>\n\n\n          <IonItem>\n            <IonLabel position=\"floating\">Title </IonLabel>\n            <IonInput type=\"text\" value={title} onIonChange={(e) => setTitle(e.detail.value)} />\n          </IonItem>\n\n          <IonItem>\n            <IonLabel position=\"floating\">Description </IonLabel>\n            <IonTextarea value={description} onIonChange={(e) => setDescription(e.detail.value)} />\n          </IonItem>\n\n          <IonItem>\n            <IonLabel position=\"floating\">Link</IonLabel>\n            <IonInput type=\"url\" value={link} onIonChange={(e) => setLink(e.detail.value)} />\n          </IonItem>\n\n          <IonItem>\n            <IonLabel position=\"stacked\">Recurrence</IonLabel>\n            <IonSelect\n              value={recurrencePattern}\n              onIonChange={(e) => setRecurrencePattern(e.detail.value)}\n            >\n              <IonSelectOption value=\"none\">None</IonSelectOption>\n              <IonSelectOption value=\"daily\">Daily</IonSelectOption>\n              <IonSelectOption value=\"weekly\">Weekly</IonSelectOption>\n              <IonSelectOption value=\"monthly\">Monthly</IonSelectOption>\n            </IonSelect>\n          </IonItem>\n\n          <IonItem>\n            <input type=\"file\" accept=\"image/*\" hidden ref={fileInputRef} onChange={handleFileChange} />\n            <IonButton expand=\"block\" onClick={() => fileInputRef.current.click()}>Upload Image</IonButton>\n            </IonItem>\n         </IonList>\n\n\n\n          {/* <IonItem>\n            <IonLabel position=\"stacked\">Completed</IonLabel>\n            <IonCheckbox\n              checked={completed}\n              onIonChange={(e) => setCompleted(e.detail.checked)}\n            />\n          </IonItem> */}\n\n\n        <IonButton expand=\"block\" type=\"submit\" onClick={handleSave}> Submit </IonButton>\n        <IonAlert\n          isOpen={showAlert}\n          onDidDismiss={() => setShowAlert(false)}\n          header=\"Title is required\"\n          message=\"Please enter a title for your entry.\"\n          buttons={['OK']}\n        />\n      </IonContent>\n    </IonPage >\n  );\n};\n\nexport default AddEntryPage;\n\n","import React, { useState, useEffect } from 'react';\nimport FullCalendar from '@fullcalendar/react';\nimport dayGridPlugin from '@fullcalendar/daygrid';\nimport { firestore } from '../firebase';\nimport { Entry, toEntry } from '../models';\nimport { useAuth } from '../auth';\nimport { useHistory } from 'react-router-dom';\nimport styled from 'styled-components';\nimport './calendarstyle.css';\n\nconst CalendarContainer = styled.div`\n  font-size: 0.8rem;\n\n`;\n\n\nconst Calendar: React.FC = () => {\n  const { userId } = useAuth();\n  const [entries, setEntries] = useState<Entry[]>([]);\n  const [loading, setLoading] = useState(true);\n  const history = useHistory();\n\n  useEffect(() => {\n    const entriesRef = firestore\n      .collection('users')\n      .doc(userId)\n      .collection('entries');\n      \n    // Listen to changes in the collection and update the entries state\n    const unsubscribe = entriesRef.onSnapshot(({ docs }) => {\n      setEntries(docs.map(toEntry));\n      setLoading(false);\n    });\n\n    return unsubscribe; // Cleanup the listener when the component unmounts\n\n  }, [userId]);\n\n  const events = entries.map((entry) => ({\n    title: entry.title,\n    date: new Date(entry.date),\n    id: entry.id,\n    classNames: entry.completed ? 'completed' : 'not-completed' // add classNames based on completion status\n  }));\n  \n  \n  const eventRender = (info: any) => {\n    if (info.event.extendedProps.completed) {\n      info.el.style.backgroundColor = 'blue'; // set blue background for completed tasks\n    } else {\n      info.el.style.backgroundColor = 'green'; // set green background for incomplete tasks\n    }\n  };\n\n  const handleEventClick = ({ event }: { event: any }) => {\n    history.push(`/my/entries/view/${event.id}`); // redirect to the corresponding entry page\n  };\n\n  return (\n    <CalendarContainer>\n      {!loading && (\n        <FullCalendar\n          plugins={[dayGridPlugin]}\n          initialView=\"dayGridMonth\"\n          events={events}\n          eventClick={handleEventClick} // attach the click event handler\n          lazyFetching={true} // fetch events for the visible range of dates\n          height='500px'\n        />\n      )}\n    </CalendarContainer>\n  );\n};\nexport default Calendar;\n","import React, { useState, useEffect } from 'react';\nimport { IonPage, IonHeader, IonToolbar, IonTitle, IonContent } from '@ionic/react';\nimport Calendar from './calendar';\n\nconst CalendarPage: React.FC = () => {\n  const [refresh, setRefresh] = useState(false);\n\n  useEffect(() => {\n    if (refresh) {\n      window.location.reload();\n    }\n  }, [refresh]);\n\n  return (\n    <IonPage>\n      <IonHeader>\n        <IonToolbar>\n          <IonTitle>Calendar</IonTitle>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent className='ion-padding'>\n        <Calendar />\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default CalendarPage;\n","import {\n    IonContent,\n    IonHeader,\n    IonPage,\n    IonTitle,\n    IonToolbar,\n    IonBackButton,\n    IonButtons,\n    IonButton,\n    IonInput,\n    IonLabel,\n    IonTextarea,\n    IonItem,\n    IonDatetime\n  } from '@ionic/react';\n  import React, { useEffect, useState } from 'react';\n  import { useHistory, useLocation, useParams } from 'react-router';\n  import { useAuth } from '../auth';\n  import { firestore } from '../firebase';\n  import { Entry, toEntry } from '../models';\n  import { formatDate } from '../date';\n  import { refresh } from 'ionicons/icons';\n  \n  interface RouteParams {\n    id: string;\n  }\n  \n  const EditEntryPage: React.FC = () => {\n    const { id } = useParams<RouteParams>();\n    const { userId } = useAuth();\n    const history = useHistory();\n    const location = useLocation<{ entry: Entry }>();\n    const [title, setTitle] = useState('');\n    const [description, setDescription] = useState('');\n    const [date, setDate] = useState(formatDate(new Date())); // format initial date value\n    const [pictureUrl, setPictureUrl] = useState('');\n    const [link, setLink] = useState('');\n    const [shouldRefresh, setShouldRefresh] = useState(false); // state variable to trigger refresh\n  \n    useEffect(() => {\n      if (location.state?.entry) {\n        const { title, description, date, pictureUrl, link } = location.state.entry;\n        setTitle(title);\n        setDescription(description);\n        setDate(formatDate(new Date(date))); // format retrieved date value as string and convert to date object\n        setPictureUrl(pictureUrl);\n        setLink(link);\n      } else {\n        const entryRef = firestore.collection('users').doc(userId)\n          .collection('entries').doc(id);\n        entryRef.get().then((doc) => {\n          const { title, description, date, pictureUrl, link } = toEntry(doc);\n          setTitle(title);\n          setDescription(description);\n          setDate(formatDate(new Date(date))); // format retrieved date value as string and convert to date object\n          setPictureUrl(pictureUrl);\n          setLink(link);\n        });\n      }\n    }, [id, location.state?.entry, userId, shouldRefresh]); // include shouldRefresh in dependencies array\n  \n    const handleSave = async () => {\n      const entryRef = firestore.collection('users').doc(userId)\n        .collection('entries').doc(id);\n      const updatedEntry = {\n        title,\n        description,\n        date: formatDate(new Date(date)), // convert date string back to date object and format as string\n        pictureUrl,\n        link\n      };\n      await entryRef.set(updatedEntry, { merge: true });\n      setShouldRefresh(true); // update state to trigger refresh\n      history.push(`/my/entries`);\n    };\n      \n  \n    return (\n      <IonPage>\n        <IonHeader>\n          <IonToolbar>\n            <IonButtons slot=\"start\">\n              <IonBackButton />\n            </IonButtons>\n            <IonTitle>{location.state?.entry ? 'Edit Entry' : 'Edit Entry'}</IonTitle>\n            <IonButtons slot=\"end\">\n              <IonButton onClick={handleSave}>\n                Save\n              </IonButton>\n            </IonButtons>\n          </IonToolbar>\n        </IonHeader>\n        <IonContent className=\"ion-padding\">\n          <IonItem>\n            <IonLabel   position=\"floating\">Title</IonLabel>\n            <IonInput\n              value={title}\n              onIonChange={(e) => setTitle(e.detail.value!)}\n            />\n          </IonItem>\n          <IonItem>\n            <IonLabel position=\"floating\">Description</IonLabel>\n            <IonTextarea\n              value={description}\n              onIonChange={(e) => setDescription(e.detail.value!)}\n            />\n          </IonItem>\n          <IonItem>\n            <IonLabel position=\"floating\">Link</IonLabel>\n            <IonTextarea\n              value={link}\n              onIonChange={(e) => setLink(e.detail.value!)}\n            />\n          </IonItem>\n          <IonItem>\n            <IonLabel position=\"floating\">Date</IonLabel>\n            <IonDatetime\n              display-format=\"MMM DD, YYYY HH:mm\"\n              picker-format=\"MMM DD YYYY HH:mm\"\n              value={date}\n              onIonChange={(e) => setDate(e.detail.value!)}\n            />\n          </IonItem>\n            <IonItem>\n                <IonLabel position=\"floating\">Picture </IonLabel>\n                <IonButton slot=\"end\" fill=\"clear\" onClick={() => setPictureUrl('')}>\n                    Clear\n                </IonButton>\n            <IonButton slot=\"end\" fill=\"clear\" onClick={() => document.getElementById('picture-input')?.click()}>\n                Upload\n            </IonButton>\n            <input type=\"file\" id=\"picture-input\" style={{ display: 'none' }} onChange={(e) => setPictureUrl(URL.createObjectURL(e.target.files[0]))} accept=\"image/*\" />\n            </IonItem>\n            \n\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default EditEntryPage;\n","import {\n  IonRouterOutlet,\n  IonTabBar,\n  IonTabButton,\n  IonLabel,\n  IonIcon,\n  IonTabs,\n} from '@ionic/react';\nimport React from 'react';\nimport { Redirect, Route } from 'react-router-dom';\nimport { home as homeIcon, settings as settingsIcon, calendar as calendarIcon } from 'ionicons/icons';\nimport HomePage from './pages/HomePage';\nimport EntryPage from './pages/EntryPage';\nimport SettingsPage from './pages/SettingsPage';\nimport { useAuth } from './auth';\nimport AddEntryPage from './pages/AddEntryPage';\nimport CalendarPage from './pages/CalendarPage';\nimport EditEntryPage from './pages/EditEntryPage';\n\nconst AppTabs: React.FC = () => {\n  const { loggedIn} = useAuth();\n  if(!loggedIn) {\n    return <Redirect to=\"/login\" />\n  }\n\n  return (\n        <IonTabs>\n          <IonRouterOutlet>\n            <Route exact path=\"/my/entries\">\n              <HomePage />\n            </Route>\n\n            <Route exact path=\"/my/entries/view/:id\" >\n              <EntryPage />\n            </Route>\n\n            <Route exact path=\"/my/settings\" >\n              <SettingsPage />\n            </Route>\n\n            <Route exact path=\"/my/entries/add\" >\n              <AddEntryPage />\n            </Route>\n\n            <Route exact path=\"/my/calendar\" >\n              <CalendarPage />\n            </Route>\n            \n            <Route exact path=\"/my/edit-entry/:id\" >\n              <EditEntryPage />\n            </Route>\n            \n\n          </IonRouterOutlet>\n\n            <IonTabBar slot=\"bottom\" >\n              <IonTabButton tab=\"home\" href=\"/my/entries\" >\n                <IonIcon icon={homeIcon} />\n                <IonLabel >Home</IonLabel>\n              </IonTabButton>\n              <IonTabButton tab=\"calendar\" href=\"/my/calendar\" >\n                <IonIcon icon={calendarIcon} />\n                <IonLabel>Calendar View</IonLabel>\n              </IonTabButton>\n              <IonTabButton tab=\"settings\" href=\"/my/settings\" >\n                <IonIcon icon={settingsIcon} />\n                <IonLabel>Settings</IonLabel>\n              </IonTabButton>\n            </IonTabBar>\n        </IonTabs>\n  );\n};\n\nexport default AppTabs;\n","import {\n  IonContent,\n  IonHeader,\n  IonPage,\n  IonTitle,\n  IonToolbar,\n  IonButton,\n  IonItem,\n  IonLabel,\n  IonInput,\n  IonList,\n  IonText,\n  IonLoading\n} from '@ionic/react';\nimport React, { useState } from 'react';\nimport { Redirect } from 'react-router';\nimport { useAuth } from '../auth';\nimport { auth } from '../firebase';\n\nconst LoginPage: React.FC = () => {\n  const { loggedIn } = useAuth();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [status, setStatus] = useState({loading:false, error:false});\n\n  const handleLogin = async () => {\n    try {\n      setStatus({loading:true, error:false});\n      const credential = await auth.signInWithEmailAndPassword(email,password);\n      console.log('credential:', credential);\n    }\n    catch (error) {\n      setStatus({loading:false, error:true});\n      console.log('error: ', error);\n    }\n  };\n\n  const handleForgotPassword = async () => {\n    try {\n      setStatus({loading:true, error:false});\n      await auth.sendPasswordResetEmail(email);\n      setStatus({loading:false, error:false});\n      console.log('Password reset email sent successfully');\n    }\n    catch (error) {\n      setStatus({loading:false, error:true});\n      console.log('error: ', error);\n    }\n  };\n\n  if(loggedIn) {\n    return <Redirect to=\"/my/entries\" />;\n  }\n  return (\n    <IonPage>\n      <IonHeader>\n        <IonToolbar>\n          <IonTitle>Login Page</IonTitle>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent className=\"ion-padding\">\n          <IonList>\n            <IonItem>\n                <IonLabel position=\"floating\">Email</IonLabel>\n                <IonInput type=\"email\" value={email}\n                  onIonChange={(event) => setEmail(event.detail.value)}\n                />\n            </IonItem>\n            <IonItem>\n                <IonLabel position=\"floating\">Password</IonLabel>\n                <IonInput type=\"password\" value={password}\n                  onIonChange={(event) => setPassword(event.detail.value)}\n                 />\n            </IonItem>\n          </IonList>\n          {status.error &&\n            <IonText color=\"danger\">Invalid Credentials</IonText>\n          }\n          <IonButton expand=\"block\" onClick={handleLogin}>Login</IonButton>\n          <IonButton expand=\"block\" onClick={handleForgotPassword}>Forgot Password?</IonButton>\n          <IonButton expand=\"block\" fill=\"clear\" routerLink=\"/register\">Don't Have an Account?</IonButton>\n          <IonLoading isOpen={status.loading} />\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default LoginPage;\n","import {\n  IonContent,\n  IonPage,\n} from '@ionic/react';\nimport React from 'react';\n\nconst NotFoundPage: React.FC = () => {\n  return (\n    <IonPage>\n      <IonContent className=\"ion-padding\">\n        Page Not Found.\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default NotFoundPage;\n","import {\n  IonContent,\n  IonHeader,\n  IonPage,\n  IonTitle,\n  IonToolbar,\n  IonButton,\n  IonItem,\n  IonLabel,\n  IonInput,\n  IonList,\n  IonText,\n  IonLoading\n} from '@ionic/react';\nimport React, { useState } from 'react';\nimport { Redirect } from 'react-router';\nimport { useAuth } from '../auth';\nimport { auth } from '../firebase';\nimport './LoginPage.css'\n\n\n  const RegisterPage: React.FC = () => {\n  const { loggedIn } = useAuth();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [status, setStatus] = useState({loading:false, error:false});\n\n  const handleRegister = async () => {\n    try {\n      setStatus({loading:true, error:false});\n      const credential = await auth.createUserWithEmailAndPassword(email,password);\n      console.log('credential:', credential)\n    }\n    catch (error) {\n      setStatus({loading:false, error:true});\n      console.log('error: ', error);\n    }\n  }\n\n  console.log(`Login Status: ${loggedIn}`);\n  if(loggedIn) {\n    return <Redirect to=\"/my/entries\" />;\n  }\n  return (\n    <IonPage>\n      <IonHeader>\n        <IonToolbar>\n          <IonTitle>Register Page</IonTitle>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent className=\"ion-padding\">\n          <IonList>\n            <IonItem>\n                <IonLabel position=\"floating\">Email</IonLabel>\n                <IonInput type=\"email\" value={email}\n                  onIonChange={(event) => setEmail(event.detail.value)}\n                />\n            </IonItem>\n            <IonItem>\n                <IonLabel position=\"floating\">Password</IonLabel>\n                <IonInput type=\"password\" value={password}\n                  onIonChange={(event) => setPassword(event.detail.value)}\n                 />\n            </IonItem>\n          </IonList>\n          {status.error &&\n            <IonText color=\"danger\">Registration Failed!</IonText>\n          }\n          <IonButton expand=\"block\" onClick={handleRegister}>Register</IonButton>\n          <IonButton expand=\"block\" fill=\"clear\" routerLink=\"/login\">Already Have an Account?</IonButton>\n          <IonLoading isOpen={status.loading} />\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default RegisterPage;\n","import {\n  IonApp, IonLoading,\n} from '@ionic/react';\nimport { Redirect, Route, Switch } from 'react-router-dom';\nimport React from 'react';\nimport { IonReactRouter } from '@ionic/react-router';\nimport AppTabs from './AppTabs';\nimport LoginPage from './pages/LoginPage';\nimport NotFoundPage from './pages/NotFoundPage';\nimport { AuthContext, useAuthInit } from './auth';\nimport RegisterPage from './pages/RegisterPage';\n// import { auth } from './firebase';\nimport CalendarPage from './pages/CalendarPage';\n\nconst App: React.FC = () => {\n  const { loading, auth } = useAuthInit();\n  // const authState = useAuthInit();\n  // const authState = useAuthInit();\n  // const [loggedIn, setLoggedIn] = useState(false);\n  // const { loading, auth } = useAuthInit();\n\n  if(loading) {\n    return<IonLoading isOpen />;\n  }\n  console.log(`rendering App with authState=`, auth);\n  //   if(authState.loading) {\n  //     return <IonLoading isOpen />;\n  //   }\n\n  return (\n    <IonApp>\n      <AuthContext.Provider value = { auth }>\n          <IonReactRouter>\n              <Switch>\n                <Route exact path=\"/login\">\n                    <LoginPage />\n                </Route>\n                <Route exact path=\"/register\">\n                    <RegisterPage />\n                </Route>\n                <Route exact path=\"/calendar\">\n                    <CalendarPage />\n                </Route>\n                <Route path=\"/my\" >\n                  <AppTabs />\n                </Route>\n                <Redirect exact path=\"/\" to=\"/login\" />\n                <Route>\n                  <NotFoundPage />\n                </Route>\n              </Switch>\n        </IonReactRouter>\n      </AuthContext.Provider>\n    </IonApp>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { Plugins } from '@capacitor/core';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\n/* Core CSS required for Ionic components to work properly */\nimport '@ionic/react/css/core.css';\n\n/* Basic CSS for apps built with Ionic */\nimport '@ionic/react/css/normalize.css';\nimport '@ionic/react/css/structure.css';\nimport '@ionic/react/css/typography.css';\n\n/* Optional CSS utils that can be commented out */\nimport '@ionic/react/css/padding.css';\nimport '@ionic/react/css/float-elements.css';\nimport '@ionic/react/css/text-alignment.css';\nimport '@ionic/react/css/text-transformation.css';\nimport '@ionic/react/css/flex-utils.css';\nimport '@ionic/react/css/display.css';\n\n/* Theme variables */\nimport './theme/variables.css';\n\nconst { SplashScreen } = Plugins;\nReactDOM.render(<App />, document.getElementById('root'));\nSplashScreen.hide();\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}