(this["webpackJsonpdaily-moments"]=this["webpackJsonpdaily-moments"]||[]).push([[1],{101:function(e,t,n){var c={"./ion-action-sheet.entry.js":[132,5],"./ion-alert.entry.js":[133,6],"./ion-app_8.entry.js":[134,7],"./ion-avatar_3.entry.js":[135,17],"./ion-back-button.entry.js":[136,18],"./ion-backdrop.entry.js":[137,43],"./ion-button_2.entry.js":[138,19],"./ion-card_5.entry.js":[139,20],"./ion-checkbox.entry.js":[140,21],"./ion-chip.entry.js":[141,22],"./ion-col_3.entry.js":[142,44],"./ion-datetime_3.entry.js":[143,10],"./ion-fab_3.entry.js":[144,23],"./ion-img.entry.js":[145,45],"./ion-infinite-scroll_2.entry.js":[146,46],"./ion-input.entry.js":[147,24],"./ion-item-option_3.entry.js":[148,25],"./ion-item_8.entry.js":[149,26],"./ion-loading.entry.js":[150,27],"./ion-menu_3.entry.js":[151,28],"./ion-modal.entry.js":[152,8],"./ion-nav_2.entry.js":[153,14],"./ion-popover.entry.js":[154,9],"./ion-progress-bar.entry.js":[155,29],"./ion-radio_2.entry.js":[156,30],"./ion-range.entry.js":[157,31],"./ion-refresher_2.entry.js":[158,11],"./ion-reorder_2.entry.js":[159,16],"./ion-ripple-effect.entry.js":[160,47],"./ion-route_4.entry.js":[161,32],"./ion-searchbar.entry.js":[162,33],"./ion-segment_2.entry.js":[163,34],"./ion-select_3.entry.js":[164,35],"./ion-slide_2.entry.js":[165,48],"./ion-spinner.entry.js":[166,13],"./ion-split-pane.entry.js":[167,49],"./ion-tab-bar_2.entry.js":[168,36],"./ion-tab_2.entry.js":[169,15],"./ion-text.entry.js":[170,37],"./ion-textarea.entry.js":[171,38],"./ion-toast.entry.js":[172,39],"./ion-toggle.entry.js":[173,12],"./ion-virtual-scroll.entry.js":[174,50]};function r(e){if(!n.o(c,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=c[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(c)},r.id=101,e.exports=r},103:function(e,t,n){var c={"./ion-icon.entry.js":[175,57]};function r(e){if(!n.o(c,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=c[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(c)},r.id=103,e.exports=r},112:function(e,t,n){},117:function(e,t,n){},118:function(e,t,n){},129:function(e,t,n){},130:function(e,t,n){"use strict";n.r(t);var c=n(92),r=n(2),i=n.n(r),s=n(44),o=n.n(s),a=n(4),l=n(28),j=n(81),d=n(22),u=n(15),b=n.n(u),O=n(21),h=n(17),x=n(84),f=(n(108),n(109),n(110),x.a.initializeApp({apiKey:"AIzaSyBpUvqRiPEa26RiA0PsK1V1qI_ZqlHGpw0",authDomain:"daily-moments-9abb4.firebaseapp.com",projectId:"daily-moments-9abb4",storageBucket:"daily-moments-9abb4.appspot.com",messagingSenderId:"295639442776",appId:"1:295639442776:web:402663e5b5aa8bb5f0f12d",measurementId:"G-JJTPX4R3C6"})),p=f.auth(),m=f.firestore(),v=f.storage(),g=i.a.createContext({loggedIn:!1});function y(){return Object(r.useContext)(g)}var k=n(42);function w(e){return Object(k.a)({id:e.id},e.data())}function C(e){return new Date(e).toLocaleDateString("en-US",{day:"numeric",month:"short",year:"numeric",hour:"numeric",minute:"numeric"})}var S=n(3),D=function(){Object(l.i)().params.id;var e=y().userId,t=Object(r.useState)([]),n=Object(h.a)(t,2),c=n[0],i=n[1],s=Object(r.useState)(!1),o=Object(h.a)(s,2),j=o[0],u=o[1],b=Object(r.useState)(!1),O=Object(h.a)(b,2);O[0],O[1];Object(r.useEffect)((function(){return m.collection("users").doc(e).collection("entries").orderBy("date","desc").onSnapshot((function(e){var t=e.docs;return i(t.map(w))}))}),[e]);var x=function(t){m.collection("users").doc(e).collection("entries").doc(t.id).update({completed:!t.completed}).then((function(){console.log("Entry updated successfully!")})).catch((function(e){console.error("Error updating entry: ",e)}))},f=c.filter((function(e){return j?e.completed:!e.completed}));return Object(S.jsxs)(a.v,{children:[Object(S.jsx)(a.l,{children:Object(S.jsx)(a.H,{children:Object(S.jsx)(a.F,{children:"Homepage"})})}),Object(S.jsxs)(a.h,{children:[Object(S.jsx)(a.t,{children:Object(S.jsxs)(a.o,{children:[Object(S.jsx)(a.s,{children:"Completed"}),Object(S.jsx)(a.G,{checked:j,onIonChange:function(e){return u(e.detail.checked)}})]})}),f.map((function(e){return Object(S.jsxs)(a.r,{children:[Object(S.jsxs)(a.o,{routerLink:"/my/entries/view/".concat(e.id),children:[Object(S.jsxs)(a.D,{children:[Object(S.jsx)("h2",{children:e.title}),Object(S.jsx)("h6",{children:C(e.date)})]}),e.completed?Object(S.jsx)(a.m,{slot:"start",icon:d.g,color:"light"}):Object(S.jsx)(a.m,{slot:"start",icon:d.f,color:"light"})]}),!e.completed&&Object(S.jsx)(a.q,{side:"end",children:Object(S.jsx)(a.p,{color:"success",onClick:function(){return x(e)},children:Object(S.jsx)(a.m,{slot:"icon-only",icon:d.g})})}),e.completed&&Object(S.jsx)(a.q,{side:"end",children:Object(S.jsx)(a.p,{color:"danger",onClick:function(){return x(e)},children:Object(S.jsx)(a.m,{slot:"icon-only",icon:d.f})})})]},e.id)})),Object(S.jsx)(a.j,{vertical:"bottom",horizontal:"end",slot:"fixed",children:Object(S.jsx)(a.k,{routerLink:"/my/entries/add",children:Object(S.jsx)(a.m,{icon:d.a})})})]})]})},E=(n(112),function(){var e=Object(l.i)().params.id,t=y().userId,n=Object(r.useState)(),c=Object(h.a)(n,2),i=c[0],s=c[1],o=Object(l.f)(),j=Object(r.useState)(!1),u=Object(h.a)(j,2),x=u[0],f=u[1];Object(r.useEffect)((function(){return m.collection("users").doc(t).collection("entries").doc(e).onSnapshot((function(e){s(w(e))}))}),[t,e]);var p=function(){var n=Object(O.a)(b.a.mark((function n(){var c;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return f(!1),c=m.collection("users").doc(t).collection("entries").doc(e),n.next=4,c.delete();case 4:o.goBack();case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(S.jsxs)(a.v,{children:[Object(S.jsx)(a.l,{children:Object(S.jsxs)(a.H,{children:[Object(S.jsx)(a.e,{slot:"start",children:Object(S.jsx)(a.c,{})}),Object(S.jsx)(a.F,{children:null===i||void 0===i?void 0:i.title}),Object(S.jsxs)(a.e,{slot:"end",children:[Object(S.jsx)(a.d,{onClick:function(){o.push("/my/edit-entry/".concat(e))},children:Object(S.jsx)(a.m,{icon:d.q,slot:"icon-only"})}),Object(S.jsx)(a.d,{onClick:function(){return f(!0)},children:Object(S.jsx)(a.m,{icon:d.w,slot:"icon-only"})})]})]})}),Object(S.jsxs)(a.h,{className:"ion-padding",children:[Object(S.jsxs)("div",{className:"entry-content",children:[Object(S.jsx)("h2",{children:null===i||void 0===i?void 0:i.title}),Object(S.jsx)("p",{children:C(null===i||void 0===i?void 0:i.date)}),Object(S.jsx)("p",{children:null===i||void 0===i?void 0:i.description}),Object(S.jsx)("p",{children:(null===i||void 0===i?void 0:i.completed)?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(a.m,{icon:d.e,color:"success"})," Completed"]}):Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(a.m,{icon:d.k,color:"danger"})," Not completed"]})}),"        ",(null===i||void 0===i?void 0:i.link)&&Object(S.jsx)("p",{children:Object(S.jsx)("a",{href:null===i||void 0===i?void 0:i.link,children:null===i||void 0===i?void 0:i.link})}),(null===i||void 0===i?void 0:i.pictureUrl)&&Object(S.jsx)("img",{className:"entry-image",src:null===i||void 0===i?void 0:i.pictureUrl,alt:null===i||void 0===i?void 0:i.title})]}),Object(S.jsx)(a.a,{isOpen:x,onDidDismiss:function(){return f(!1)},header:"Delete Entry",message:"Are you sure you want to delete this entry?",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:function(){f(!1)}},{text:"Delete",handler:function(){p()}}]})]})]})}),I=n(68),H=function(){var e=Object(r.useState)(null),t=Object(h.a)(e,2),n=t[0],c=t[1],i=Object(r.useState)(!1),s=Object(h.a)(i,2),o=s[0],l=s[1],j=Object(r.useState)(""),u=Object(h.a)(j,2),x=u[0],f=u[1],v=Object(r.useState)(""),g=Object(h.a)(v,2),y=g[0],k=g[1],w=Object(r.useState)(!1),C=Object(h.a)(w,2),D=C[0],E=C[1],H=Object(r.useState)(""),U=Object(h.a)(H,2),_=U[0],P=U[1];Object(r.useEffect)((function(){var e=p.onAuthStateChanged((function(e){e&&(c(e.email),E(e.emailVerified))}));return function(){e()}}),[]);var M=function(){var e=Object(O.a)(b.a.mark((function e(){var t,n,c,r,i,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=p.currentUser)){e.next=32;break}return n=prompt("Please enter your current password to confirm account deletion:"),c=I.a.auth.EmailAuthProvider.credential(t.email,n),e.prev=4,e.next=7,t.reauthenticateWithCredential(c);case 7:return r=m.collection("users").doc(t.uid),e.next=10,r.get();case 10:if(!e.sent.exists){e.next=14;break}return e.next=14,r.delete();case 14:return i=m.batch(),s=m.collection("users").doc(t.uid).collection("entries"),e.next=18,s.get();case 18:return e.sent.forEach((function(e){i.delete(e.ref)})),e.next=22,i.commit();case 22:return e.next=24,t.delete();case 24:return e.next=26,p.signOut();case 26:e.next=32;break;case 28:e.prev=28,e.t0=e.catch(4),console.log(e.t0),window.alert("Error deleting account.");case 32:case"end":return e.stop()}}),e,null,[[4,28]])})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(O.a)(b.a.mark((function e(t,n){var r,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=p.currentUser)){e.next=22;break}return e.prev=2,i=I.a.auth.EmailAuthProvider.credential(r.email,_),e.next=6,r.reauthenticateWithCredential(i);case 6:if(!t){e.next=11;break}return e.next=9,r.updateEmail(t);case 9:c(t),f("");case 11:if(!n){e.next=15;break}return e.next=14,r.updatePassword(n);case 14:k("");case 15:window.alert("Account credentials updated successfully!"),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(2),console.log(e.t0),window.alert("Error updating account credentials.");case 22:case"end":return e.stop()}}),e,null,[[2,18]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(S.jsxs)(a.v,{children:[Object(S.jsx)(a.l,{children:Object(S.jsx)(a.H,{children:Object(S.jsx)(a.F,{children:"Settings"})})}),Object(S.jsxs)(a.h,{className:"ion-padding",children:[n&&Object(S.jsx)(a.f,{children:Object(S.jsxs)(a.g,{children:[Object(S.jsxs)(a.o,{children:[Object(S.jsx)(a.s,{children:"Email:"}),Object(S.jsx)(a.s,{children:n})]}),D?Object(S.jsxs)(a.o,{children:[Object(S.jsx)(a.s,{children:"Status:"}),Object(S.jsx)(a.s,{children:"Verified"})]}):Object(S.jsxs)(a.o,{button:!0,onClick:function(){var e=p.currentUser;e&&e.sendEmailVerification().then((function(){window.alert("Verification email sent successfully!")})).catch((function(e){console.log(e),window.alert("Error sending verification email.")}))},children:[Object(S.jsx)(a.s,{children:"Verification Status:"}),Object(S.jsx)(a.s,{color:"danger",children:"Not Verified"}),Object(S.jsx)(a.s,{slot:"end",children:"Send Verification Email"})]})]})}),Object(S.jsx)(a.f,{children:Object(S.jsx)(a.g,{children:Object(S.jsxs)(a.o,{button:!0,href:"mailto:hninwintthuaung@gmail.com",children:[Object(S.jsx)(a.m,{icon:d.n,slot:"start"}),Object(S.jsx)(a.s,{children:"Contact Developer"})]})})}),Object(S.jsx)(a.f,{children:Object(S.jsx)(a.g,{children:Object(S.jsxs)(a.o,{button:!0,onClick:function(){return l(!0)},children:[Object(S.jsx)(a.m,{icon:d.x,slot:"start"}),Object(S.jsx)(a.s,{children:"Delete Account"})]})})}),Object(S.jsx)(a.f,{children:Object(S.jsxs)(a.g,{children:[Object(S.jsxs)(a.o,{children:[Object(S.jsx)(a.s,{children:"Password:"}),Object(S.jsx)(a.n,{type:"password",value:y,placeholder:"New password",onIonChange:function(e){return k(e.detail.value)}})]}),Object(S.jsxs)(a.o,{children:[Object(S.jsx)(a.s,{children:"Current Password:"}),Object(S.jsx)(a.n,{type:"password",value:_,placeholder:"Current password",onIonChange:function(e){return P(e.detail.value)}})]}),Object(S.jsx)(a.d,{expand:"block",onClick:function(){return A(x,y)},children:"Update Credentials"})]})}),Object(S.jsx)(a.d,{expand:"block",onClick:function(){return p.signOut()},children:"Logout"}),Object(S.jsx)(a.a,{isOpen:o,header:"Delete Account",message:"Are you sure you want to delete your account? This action is irreversible and all your data will be lost.",buttons:[{text:"Cancel",role:"cancel",handler:function(){return l(!1)}},{text:"Delete",handler:M}]})]})]})},U=n(180),_=n(85),P=n(178),M=n(179);console.log(Object(a.R)("ios")),console.log(Object(a.Q)());var A,L=function(){var e=Object(r.useState)(""),t=Object(h.a)(e,2),n=t[0],c=t[1],i=Object(r.useState)(""),s=Object(h.a)(i,2),o=s[0],j=s[1],d=Object(r.useState)(""),u=Object(h.a)(d,2),x=u[0],f=u[1],p=Object(r.useState)(""),g=Object(h.a)(p,2),w=g[0],C=g[1],D=Object(r.useState)(!1),E=Object(h.a)(D,2),I=E[0],H=E[1],A=Object(r.useState)(!1),L=Object(h.a)(A,2),N=(L[0],L[1],Object(r.useState)("daily")),R=Object(h.a)(N,2),F=R[0],Y=R[1],B=y().userId,V=Object(r.useState)(""),z=Object(h.a)(V,2),W=z[0],T=z[1],q=Object(r.useRef)(),G=Object(l.f)();function J(e,t){return K.apply(this,arguments)}function K(){return K=Object(O.a)(b.a.mark((function e(t,n){var c,r,i,s,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=v.ref("/users/".concat(n,"/pictures/").concat(Date.now())),e.next=3,fetch(t);case 3:return r=e.sent,e.next=6,r.blob();case 6:return i=e.sent,e.next=9,c.put(i);case 9:return s=e.sent,e.next=12,s.ref.getDownloadURL();case 12:return o=e.sent,e.abrupt("return",o);case 14:case"end":return e.stop()}}),e)}))),K.apply(this,arguments)}Object(r.useEffect)((function(){return function(){W.startsWith("blob")&&(URL.revokeObjectURL(W),console.log("Revoked",W))}}),[W]);var Q=function(){var e=Object(O.a)(b.a.mark((function e(){var t,c,r,i,s,a,l,j,d,u,O,h,f,p,v;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=3;break}return H(!0),e.abrupt("return");case 3:if(t=m.collection("users").doc(B).collection("entries"),c={date:n,title:o,pictureUrl:W,description:x,link:w,completed:!1,recurrencePattern:F},!W.startsWith("blob")){e.next=9;break}return e.next=8,J(W,B);case 8:c.pictureUrl=e.sent;case 9:return e.next=11,t.add(c);case 11:if(r=e.sent,console.log("saved",r.id),"daily"!==F){e.next=27;break}i=1;case 15:if(!(i<=2)){e.next=25;break}return s=Object(U.a)(Object(_.a)(new Date(n),i),"yyyy-MM-dd HH:mm"),a=Object(k.a)(Object(k.a)({},c),{},{date:s}),e.next=20,t.add(a);case 20:l=e.sent,console.log("saved",l.id);case 22:i++,e.next=15;break;case 25:e.next=53;break;case 27:if("weekly"!==F){e.next=41;break}j=1;case 29:if(!(j<=2)){e.next=39;break}return d=Object(U.a)(Object(P.a)(new Date(n),j),"yyyy-MM-dd HH:mm"),u=Object(k.a)(Object(k.a)({},c),{},{date:d}),e.next=34,t.add(u);case 34:O=e.sent,console.log("saved",O.id);case 36:j++,e.next=29;break;case 39:e.next=53;break;case 41:if("monthly"!==F){e.next=53;break}h=1;case 43:if(!(h<=2)){e.next=53;break}return f=Object(U.a)(Object(M.a)(new Date(n),h),"yyyy-MM-dd HH:mm"),p=Object(k.a)(Object(k.a)({},c),{},{date:f}),e.next=48,t.add(p);case 48:v=e.sent,console.log("saved",v.id);case 50:h++,e.next=43;break;case 53:G.push("/my/entries");case 54:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(S.jsxs)(a.v,{children:[Object(S.jsx)(a.l,{children:Object(S.jsxs)(a.H,{children:[Object(S.jsx)(a.e,{slot:"start",children:Object(S.jsx)(a.c,{})}),Object(S.jsx)(a.F,{children:" Add Entry "})]})}),Object(S.jsxs)(a.h,{className:"ion-padding",children:[Object(S.jsxs)(a.t,{children:[Object(S.jsxs)(a.o,{children:[Object(S.jsx)(a.s,{position:"floating",children:"Date and Time"}),Object(S.jsx)(a.i,{"display-format":"MMM DD, YYYY HH:mm","picker-format":"MMM DD YYYY HH:mm",value:n,onIonChange:function(e){return c(e.detail.value)},style:{"--padding-start":"12px","--padding-end":"12px","--background":"#f5f5f5","--border-radius":"8px","--box-shadow":"none"}})]}),Object(S.jsxs)(a.o,{children:[Object(S.jsx)(a.s,{position:"floating",children:"Title "}),Object(S.jsx)(a.n,{type:"text",value:o,onIonChange:function(e){return j(e.detail.value)}})]}),Object(S.jsxs)(a.o,{children:[Object(S.jsx)(a.s,{position:"floating",children:"Description "}),Object(S.jsx)(a.E,{value:x,onIonChange:function(e){return f(e.detail.value)}})]}),Object(S.jsxs)(a.o,{children:[Object(S.jsx)(a.s,{position:"floating",children:"Link"}),Object(S.jsx)(a.n,{type:"url",value:w,onIonChange:function(e){return C(e.detail.value)}})]}),Object(S.jsxs)(a.o,{children:[Object(S.jsx)(a.s,{position:"stacked",children:"Recurrence"}),Object(S.jsxs)(a.y,{value:F,onIonChange:function(e){return Y(e.detail.value)},children:[Object(S.jsx)(a.z,{value:"none",children:"None"}),Object(S.jsx)(a.z,{value:"daily",children:"Daily"}),Object(S.jsx)(a.z,{value:"weekly",children:"Weekly"}),Object(S.jsx)(a.z,{value:"monthly",children:"Monthly"})]})]}),Object(S.jsxs)(a.o,{children:[Object(S.jsx)("input",{type:"file",accept:"image/*",hidden:!0,ref:q,onChange:function(e){if(console.log("Files:",e.target.files),e.target.files.length>0){var t=e.target.files.item(0),n=URL.createObjectURL(t);T(n)}}}),Object(S.jsx)(a.d,{expand:"block",onClick:function(){return q.current.click()},children:"Upload Image"})]})]}),Object(S.jsx)(a.d,{expand:"block",type:"submit",onClick:Q,children:" Submit "}),Object(S.jsx)(a.a,{isOpen:I,onDidDismiss:function(){return H(!1)},header:"Title is required",message:"Please enter a title for your entry.",buttons:["OK"]})]})]})},N=n(86),R=n(91),F=n(94),Y=n(87),B=(n(117),Y.a.div(A||(A=Object(N.a)(["\n  font-size: 0.8rem;\n\n"])))),V=function(){var e=y().userId,t=Object(r.useState)([]),n=Object(h.a)(t,2),c=n[0],i=n[1],s=Object(r.useState)(!0),o=Object(h.a)(s,2),a=o[0],j=o[1],d=Object(l.f)();Object(r.useEffect)((function(){return m.collection("users").doc(e).collection("entries").onSnapshot((function(e){var t=e.docs;i(t.map(w)),j(!1)}))}),[e]);var u=c.map((function(e){return{title:e.title,date:new Date(e.date),id:e.id,classNames:e.completed?"completed":"not-completed"}}));return Object(S.jsx)(B,{children:!a&&Object(S.jsx)(R.a,{plugins:[F.a],initialView:"dayGridMonth",events:u,eventClick:function(e){var t=e.event;d.push("/my/entries/view/".concat(t.id))},lazyFetching:!0,height:"500px"})})},z=function(){var e=Object(r.useState)(!1),t=Object(h.a)(e,2),n=t[0];t[1];return Object(r.useEffect)((function(){n&&window.location.reload()}),[n]),Object(S.jsxs)(a.v,{children:[Object(S.jsx)(a.l,{children:Object(S.jsx)(a.H,{children:Object(S.jsx)(a.F,{children:"Calendar"})})}),Object(S.jsx)(a.h,{className:"ion-padding",children:Object(S.jsx)(V,{})})]})},W=function(){var e,t,n=Object(l.h)().id,c=y().userId,i=Object(l.f)(),s=Object(l.g)(),o=Object(r.useState)(""),j=Object(h.a)(o,2),d=j[0],u=j[1],x=Object(r.useState)(""),f=Object(h.a)(x,2),p=f[0],v=f[1],g=Object(r.useState)(C(new Date)),k=Object(h.a)(g,2),D=k[0],E=k[1],I=Object(r.useState)(""),H=Object(h.a)(I,2),U=H[0],_=H[1],P=Object(r.useState)(""),M=Object(h.a)(P,2),A=M[0],L=M[1],N=Object(r.useState)(!1),R=Object(h.a)(N,2),F=R[0],Y=R[1];Object(r.useEffect)((function(){var e;if(null===(e=s.state)||void 0===e?void 0:e.entry){var t=s.state.entry,r=t.title,i=t.description,o=t.date,a=t.pictureUrl,l=t.link;u(r),v(i),E(C(new Date(o))),_(a),L(l)}else{m.collection("users").doc(c).collection("entries").doc(n).get().then((function(e){var t=w(e),n=t.title,c=t.description,r=t.date,i=t.pictureUrl,s=t.link;u(n),v(c),E(C(new Date(r))),_(i),L(s)}))}}),[n,null===(e=s.state)||void 0===e?void 0:e.entry,c,F]);var B=function(){var e=Object(O.a)(b.a.mark((function e(){var t,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.collection("users").doc(c).collection("entries").doc(n),r={title:d,description:p,date:C(new Date(D)),pictureUrl:U,link:A},e.next=4,t.set(r,{merge:!0});case 4:Y(!0),i.push("/my/entries");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(S.jsxs)(a.v,{children:[Object(S.jsx)(a.l,{children:Object(S.jsxs)(a.H,{children:[Object(S.jsx)(a.e,{slot:"start",children:Object(S.jsx)(a.c,{})}),Object(S.jsx)(a.F,{children:(null===(t=s.state)||void 0===t||t.entry,"Edit Entry")}),Object(S.jsx)(a.e,{slot:"end",children:Object(S.jsx)(a.d,{onClick:B,children:"Save"})})]})}),Object(S.jsxs)(a.h,{className:"ion-padding",children:[Object(S.jsxs)(a.o,{children:[Object(S.jsx)(a.s,{position:"floating",children:"Title"}),Object(S.jsx)(a.n,{value:d,onIonChange:function(e){return u(e.detail.value)}})]}),Object(S.jsxs)(a.o,{children:[Object(S.jsx)(a.s,{position:"floating",children:"Description"}),Object(S.jsx)(a.E,{value:p,onIonChange:function(e){return v(e.detail.value)}})]}),Object(S.jsxs)(a.o,{children:[Object(S.jsx)(a.s,{position:"floating",children:"Link"}),Object(S.jsx)(a.E,{value:A,onIonChange:function(e){return L(e.detail.value)}})]}),Object(S.jsxs)(a.o,{children:[Object(S.jsx)(a.s,{position:"floating",children:"Date"}),Object(S.jsx)(a.i,{"display-format":"MMM DD, YYYY HH:mm","picker-format":"MMM DD YYYY HH:mm",value:D,onIonChange:function(e){return E(e.detail.value)}})]}),Object(S.jsxs)(a.o,{children:[Object(S.jsx)(a.s,{position:"floating",children:"Picture "}),Object(S.jsx)(a.d,{slot:"end",fill:"clear",onClick:function(){return _("")},children:"Clear"}),Object(S.jsx)(a.d,{slot:"end",fill:"clear",onClick:function(){var e;return null===(e=document.getElementById("picture-input"))||void 0===e?void 0:e.click()},children:"Upload"}),Object(S.jsx)("input",{type:"file",id:"picture-input",style:{display:"none"},onChange:function(e){return _(URL.createObjectURL(e.target.files[0]))},accept:"image/*"})]})]})]})},T=function(){return y().loggedIn?Object(S.jsxs)(a.C,{children:[Object(S.jsxs)(a.x,{children:[Object(S.jsx)(l.b,{exact:!0,path:"/my/entries",children:Object(S.jsx)(D,{})}),Object(S.jsx)(l.b,{exact:!0,path:"/my/entries/view/:id",children:Object(S.jsx)(E,{})}),Object(S.jsx)(l.b,{exact:!0,path:"/my/settings",children:Object(S.jsx)(H,{})}),Object(S.jsx)(l.b,{exact:!0,path:"/my/entries/add",children:Object(S.jsx)(L,{})}),Object(S.jsx)(l.b,{exact:!0,path:"/my/calendar",children:Object(S.jsx)(z,{})}),Object(S.jsx)(l.b,{exact:!0,path:"/my/edit-entry/:id",children:Object(S.jsx)(W,{})})]}),Object(S.jsxs)(a.A,{slot:"bottom",children:[Object(S.jsxs)(a.B,{tab:"home",href:"/my/entries",children:[Object(S.jsx)(a.m,{icon:d.m}),Object(S.jsx)(a.s,{children:"Home"})]}),Object(S.jsxs)(a.B,{tab:"calendar",href:"/my/calendar",children:[Object(S.jsx)(a.m,{icon:d.c}),Object(S.jsx)(a.s,{children:"Calendar View"})]}),Object(S.jsxs)(a.B,{tab:"settings",href:"/my/settings",children:[Object(S.jsx)(a.m,{icon:d.v}),Object(S.jsx)(a.s,{children:"Settings"})]})]})]}):Object(S.jsx)(l.a,{to:"/login"})},q=function(){var e=y().loggedIn,t=Object(r.useState)(""),n=Object(h.a)(t,2),c=n[0],i=n[1],s=Object(r.useState)(""),o=Object(h.a)(s,2),j=o[0],d=o[1],u=Object(r.useState)({loading:!1,error:!1}),x=Object(h.a)(u,2),f=x[0],m=x[1],v=function(){var e=Object(O.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m({loading:!0,error:!1}),e.next=4,p.signInWithEmailAndPassword(c,j);case 4:t=e.sent,console.log("credential:",t),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),m({loading:!1,error:!0}),console.log("error: ",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(O.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m({loading:!0,error:!1}),e.next=4,p.sendPasswordResetEmail(c);case 4:m({loading:!1,error:!1}),console.log("Password reset email sent successfully"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),m({loading:!1,error:!0}),console.log("error: ",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return e?Object(S.jsx)(l.a,{to:"/my/entries"}):Object(S.jsxs)(a.v,{children:[Object(S.jsx)(a.l,{children:Object(S.jsx)(a.H,{children:Object(S.jsx)(a.F,{children:"Login Page"})})}),Object(S.jsxs)(a.h,{className:"ion-padding",children:[Object(S.jsxs)(a.t,{children:[Object(S.jsxs)(a.o,{children:[Object(S.jsx)(a.s,{position:"floating",children:"Email"}),Object(S.jsx)(a.n,{type:"email",value:c,onIonChange:function(e){return i(e.detail.value)}})]}),Object(S.jsxs)(a.o,{children:[Object(S.jsx)(a.s,{position:"floating",children:"Password"}),Object(S.jsx)(a.n,{type:"password",value:j,onIonChange:function(e){return d(e.detail.value)}})]})]}),f.error&&Object(S.jsx)(a.D,{color:"danger",children:"Invalid Credentials"}),Object(S.jsx)(a.d,{expand:"block",onClick:v,children:"Login"}),Object(S.jsx)(a.d,{expand:"block",onClick:g,children:"Forgot Password?"}),Object(S.jsx)(a.d,{expand:"block",fill:"clear",routerLink:"/register",children:"Don't Have an Account?"}),Object(S.jsx)(a.u,{isOpen:f.loading})]})]})},G=function(){return Object(S.jsx)(a.v,{children:Object(S.jsx)(a.h,{className:"ion-padding",children:"Page Not Found."})})},J=(n(118),function(){var e=y().loggedIn,t=Object(r.useState)(""),n=Object(h.a)(t,2),c=n[0],i=n[1],s=Object(r.useState)(""),o=Object(h.a)(s,2),j=o[0],d=o[1],u=Object(r.useState)({loading:!1,error:!1}),x=Object(h.a)(u,2),f=x[0],m=x[1],v=function(){var e=Object(O.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m({loading:!0,error:!1}),e.next=4,p.createUserWithEmailAndPassword(c,j);case 4:t=e.sent,console.log("credential:",t),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),m({loading:!1,error:!0}),console.log("error: ",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return console.log("Login Status: ".concat(e)),e?Object(S.jsx)(l.a,{to:"/my/entries"}):Object(S.jsxs)(a.v,{children:[Object(S.jsx)(a.l,{children:Object(S.jsx)(a.H,{children:Object(S.jsx)(a.F,{children:"Register Page"})})}),Object(S.jsxs)(a.h,{className:"ion-padding",children:[Object(S.jsxs)(a.t,{children:[Object(S.jsxs)(a.o,{children:[Object(S.jsx)(a.s,{position:"floating",children:"Email"}),Object(S.jsx)(a.n,{type:"email",value:c,onIonChange:function(e){return i(e.detail.value)}})]}),Object(S.jsxs)(a.o,{children:[Object(S.jsx)(a.s,{position:"floating",children:"Password"}),Object(S.jsx)(a.n,{type:"password",value:j,onIonChange:function(e){return d(e.detail.value)}})]})]}),f.error&&Object(S.jsx)(a.D,{color:"danger",children:"Registration Failed!"}),Object(S.jsx)(a.d,{expand:"block",onClick:v,children:"Register"}),Object(S.jsx)(a.d,{expand:"block",fill:"clear",routerLink:"/login",children:"Already Have an Account?"}),Object(S.jsx)(a.u,{isOpen:f.loading})]})]})}),K=function(){var e=function(){var e=Object(r.useState)({loading:!0}),t=Object(h.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)((function(){return p.onAuthStateChanged((function(e){var t=e?{loggedIn:!0,userId:e.uid}:{loggedIn:!1};c({loading:!1,auth:t})}))}),[]),n}(),t=e.loading,n=e.auth;return t?Object(S.jsx)(a.u,{isOpen:!0}):(console.log("rendering App with authState=",n),Object(S.jsx)(a.b,{children:Object(S.jsx)(g.Provider,{value:n,children:Object(S.jsx)(j.a,{children:Object(S.jsxs)(l.d,{children:[Object(S.jsx)(l.b,{exact:!0,path:"/login",children:Object(S.jsx)(q,{})}),Object(S.jsx)(l.b,{exact:!0,path:"/register",children:Object(S.jsx)(J,{})}),Object(S.jsx)(l.b,{exact:!0,path:"/calendar",children:Object(S.jsx)(z,{})}),Object(S.jsx)(l.b,{path:"/my",children:Object(S.jsx)(T,{})}),Object(S.jsx)(l.a,{exact:!0,path:"/",to:"/login"}),Object(S.jsx)(l.b,{children:Object(S.jsx)(G,{})})]})})})}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(119),n(120),n(121),n(122),n(123),n(124),n(125),n(126),n(127),n(128),n(129);var Q=c.a.SplashScreen;o.a.render(Object(S.jsx)(K,{}),document.getElementById("root")),Q.hide(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[130,3,4]]]);
//# sourceMappingURL=main.17e7405e.chunk.js.map